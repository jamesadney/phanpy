import{Z as ot,E as De,c as s,h as te,q as Ie,A as j,_ as pn,y as se,$ as bn,o as St,a0 as I,a1 as ma,a2 as Gn,a3 as ga,T as fe,D as kt,p as Di,a4 as va,a5 as Ri,F as Ni,k as U,x as it,K as st,i as ya,s as W,a6 as _a,a as Xn,n as ba,a7 as Fi,a8 as wa,a9 as zi,j as fo,L as Hi,g as ho,aa as Ta,ab as Pe,ac as Ea,ad as xa,ae as Dn,w as tt,u as wn,d as Zo,b as Ze,J as Vi,af as Ma,ag as Sa,ah as ka}from"./useTitle-JoSsYWpD.js";import{e as Aa}from"./tinyld-light-PxOyhYWY.js";import{m as Ia}from"./index-wgcNc7NQ.js";function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}var ji=["shift","alt","meta","mod","ctrl"],$a={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ht(e){return($a[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function La(e){return ji.includes(e)}function xr(e,t){return t===void 0&&(t=","),e.split(t)}function Mr(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(a){return ht(a)}),o={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},i=r.filter(function(a){return!ji.includes(a)});return Kr({},o,{keys:i,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&Bi([ht(e.key),ht(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&Ui([ht(e.key),ht(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){pt.clear()})})();var pt=new Set;function po(e){return Array.isArray(e)}function Ca(e,t){t===void 0&&(t=",");var n=po(e)?e:e.split(t);return n.every(function(r){return pt.has(r.trim().toLowerCase())})}function Bi(e){var t=Array.isArray(e)?e:[e];pt.has("meta")&&pt.forEach(function(n){return!La(n)&&pt.delete(n.toLowerCase())}),t.forEach(function(n){return pt.add(n.toLowerCase())})}function Ui(e){var t=Array.isArray(e)?e:[e];e==="meta"?pt.clear():t.forEach(function(n){return pt.delete(n.toLowerCase())})}function Pa(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function Oa(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function Da(e){return Wi(e,["input","textarea","select"])}function Wi(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return po(t)?!!(r&&t&&t.some(function(o){return o.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function Ra(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var Na=function(t,n,r){r===void 0&&(r=!1);var o=n.alt,i=n.meta,a=n.mod,u=n.shift,c=n.ctrl,l=n.keys,f=t.key,d=t.code,p=t.ctrlKey,m=t.metaKey,h=t.shiftKey,g=t.altKey,y=ht(d),T=f.toLowerCase();if(!(l!=null&&l.includes(y))&&!(l!=null&&l.includes(T))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(y))return!1;if(!r){if(o===!g&&T!=="alt"||u===!h&&T!=="shift")return!1;if(a){if(!m&&!p)return!1}else if(i===!m&&T!=="meta"&&T!=="os"||c===!p&&T!=="ctrl"&&T!=="control")return!1}return l&&l.length===1&&(l.includes(T)||l.includes(y))?!0:l?Ca(l):!l},Fa=ot(void 0),za=function(){return De(Fa)};function Ki(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&Ki(e[r],t[r])},!0):e===t}var Ha=ot({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),Va=function(){return De(Ha)};function ja(e){var t=j(void 0);return Ki(t.current,e)||(t.current=e),t.current}var Yo=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},Ba=typeof window<"u"?pn:se;function Nt(e,t,n,r){var o=j(null),i=j(!1),a=n instanceof Array?r instanceof Array?void 0:r:n,u=po(e)?e.join(a==null?void 0:a.splitKey):e,c=n instanceof Array?n:r instanceof Array?r:void 0,l=Ie(t,c??[]),f=j(l);c?f.current=l:f.current=t;var d=ja(a),p=Va(),m=p.enabledScopes,h=za();return Ba(function(){if(!((d==null?void 0:d.enabled)===!1||!Ra(m,d==null?void 0:d.scopes))){var g=function(w,b){var M;if(b===void 0&&(b=!1),!(Da(w)&&!Wi(w,d==null?void 0:d.enableOnFormTags))){if(o.current!==null){var A=o.current.getRootNode();if((A instanceof Document||A instanceof ShadowRoot)&&A.activeElement!==o.current&&!o.current.contains(A.activeElement)){Yo(w);return}}(M=w.target)!=null&&M.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||xr(u,d==null?void 0:d.splitKey).forEach(function(O){var P,x=Mr(O,d==null?void 0:d.combinationKey);if(Na(w,x,d==null?void 0:d.ignoreModifiers)||(P=x.keys)!=null&&P.includes("*")){if(d!=null&&d.ignoreEventWhen!=null&&d.ignoreEventWhen(w)||b&&i.current)return;if(Pa(w,x,d==null?void 0:d.preventDefault),!Oa(w,x,d==null?void 0:d.enabled)){Yo(w);return}f.current(w,x),b||(i.current=!0)}})}},y=function(w){w.key!==void 0&&(Bi(ht(w.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&g(w))},T=function(w){w.key!==void 0&&(Ui(ht(w.code)),i.current=!1,d!=null&&d.keyup&&g(w,!0))},_=o.current||(a==null?void 0:a.document)||document;return _.addEventListener("keyup",T),_.addEventListener("keydown",y),h&&xr(u,d==null?void 0:d.splitKey).forEach(function(E){return h.addHotkey(Mr(E,d==null?void 0:d.combinationKey,d==null?void 0:d.description))}),function(){_.removeEventListener("keyup",T),_.removeEventListener("keydown",y),h&&xr(u,d==null?void 0:d.splitKey).forEach(function(E){return h.removeHotkey(Mr(E,d==null?void 0:d.combinationKey,d==null?void 0:d.description))})}}},[u,d,m]),o}var mo={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */var mf=mo.exports;(function(e){(function(t,n){e.exports?e.exports=n():t.Toastify=n()})(bn,function(t){var n=function(a){return new n.lib.init(a)},r="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:r,constructor:n,init:function(a){return a||(a={}),this.options={},this.toastElement=null,this.options.text=a.text||n.defaults.text,this.options.node=a.node||n.defaults.node,this.options.duration=a.duration===0?0:a.duration||n.defaults.duration,this.options.selector=a.selector||n.defaults.selector,this.options.callback=a.callback||n.defaults.callback,this.options.destination=a.destination||n.defaults.destination,this.options.newWindow=a.newWindow||n.defaults.newWindow,this.options.close=a.close||n.defaults.close,this.options.gravity=a.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=a.positionLeft||n.defaults.positionLeft,this.options.position=a.position||n.defaults.position,this.options.backgroundColor=a.backgroundColor||n.defaults.backgroundColor,this.options.avatar=a.avatar||n.defaults.avatar,this.options.className=a.className||n.defaults.className,this.options.stopOnFocus=a.stopOnFocus===void 0?n.defaults.stopOnFocus:a.stopOnFocus,this.options.onClick=a.onClick||n.defaults.onClick,this.options.offset=a.offset||n.defaults.offset,this.options.escapeMarkup=a.escapeMarkup!==void 0?a.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=a.ariaLive||n.defaults.ariaLive,this.options.style=a.style||n.defaults.style,a.backgroundColor&&(this.options.style.background=a.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var a=document.createElement("div");a.className="toastify on "+this.options.className,this.options.position?a.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(a.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):a.className+=" toastify-right",a.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var u in this.options.style)a.style[u]=this.options.style[u];if(this.options.ariaLive&&a.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)a.appendChild(this.options.node);else if(this.options.escapeMarkup?a.innerText=this.options.text:a.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?a.appendChild(c):a.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var l=document.createElement("button");l.type="button",l.setAttribute("aria-label","Close"),l.className="toast-close",l.innerHTML="&#10006;",l.addEventListener("click",(function(y){y.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var f=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&f>360?a.insertAdjacentElement("afterbegin",l):a.appendChild(l)}if(this.options.stopOnFocus&&this.options.duration>0){var d=this;a.addEventListener("mouseover",function(y){window.clearTimeout(a.timeOutValue)}),a.addEventListener("mouseleave",function(){a.timeOutValue=window.setTimeout(function(){d.removeElement(a)},d.options.duration)})}if(typeof this.options.destination<"u"&&a.addEventListener("click",(function(y){y.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&a.addEventListener("click",(function(y){y.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var p=o("x",this.options),m=o("y",this.options),h=this.options.position=="left"?p:"-"+p,g=this.options.gravity=="toastify-top"?m:"-"+m;a.style.transform="translate("+h+","+g+")"}return a},showToast:function(){this.toastElement=this.buildToast();var a;if(typeof this.options.selector=="string"?a=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?a=this.options.selector:a=document.body,!a)throw"Root element is not defined";var u=n.defaults.oldestFirst?a.firstChild:a.lastChild;return a.insertBefore(this.toastElement,u),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(a){a.className=a.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),a.parentNode&&a.parentNode.removeChild(a),this.options.callback.call(a),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var a={top:15,bottom:15},u={top:15,bottom:15},c={top:15,bottom:15},l=document.getElementsByClassName("toastify"),f,d=0;d<l.length;d++){i(l[d],"toastify-top")===!0?f="toastify-top":f="toastify-bottom";var p=l[d].offsetHeight;f=f.substr(9,f.length-1);var m=15,h=window.innerWidth>0?window.innerWidth:screen.width;h<=360?(l[d].style[f]=c[f]+"px",c[f]+=p+m):i(l[d],"toastify-left")===!0?(l[d].style[f]=a[f]+"px",a[f]+=p+m):(l[d].style[f]=u[f]+"px",u[f]+=p+m)}return this};function o(a,u){return u.offset[a]?isNaN(u.offset[a])?u.offset[a]:u.offset[a]+"px":"0px"}function i(a,u){return!a||typeof u!="string"?!1:!!(a.className&&a.className.trim().split(/\s+/gi).indexOf(u)>-1)}return n.lib.init.prototype=n.lib,n})})(mo);var Ua=mo.exports;const Wa=St(Ua);window._showToast=$e;function $e(e){typeof e=="string"&&(e={text:e});const{onClick:t,delay:n,...r}=e,o=Wa({className:`${t||e.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...r,onClick:()=>{t==null||t(o)}});return n?setTimeout(()=>{o.showToast()},n):o.showToast(),o}function gf(e,t,n,r){const o=j(e);se(()=>{o.current=e},[e,n]),se(()=>{!r||t===null||t===!1||o.current()},[r]),se(()=>{if(t===null||t===!1)return;const a=setInterval(()=>o.current(),t);return()=>clearInterval(a)},[t])}function Ka(e){const t=URL.parse("/compose/",window.location),{width:n,height:r}=window.screen,o=Math.max(0,(n-600)/2),i=Math.max(0,(r-450)/2),a=Math.min(n,600),u=Math.min(r,450),c=(e==null?void 0:e.uid)||Math.random(),l=window.open(t,"compose"+c,`width=${a},height=${u},left=${o},top=${i}`);return l?l.__COMPOSE__=e:alert("Looks like your browser is blocking popups."),l}const Za=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function Ya(){if(Za){const e=document.createElement("input");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.opacity="0",document.body.appendChild(e),e.focus(),setTimeout(()=>{document.body.removeChild(e)},500)}}const Zi={x:()=>I(()=>import("./icons/close-line-YTE7hIJE.js"),[],import.meta.url),heart:()=>I(()=>import("./icons/heart-line-VwvWYh8h.js"),[],import.meta.url),bookmark:()=>I(()=>import("./icons/bookmark-line-D6jQ7QFs.js"),[],import.meta.url),"check-circle":()=>I(()=>import("./icons/check-circle-line-sE41WGxF.js"),[],import.meta.url),"x-circle":()=>I(()=>import("./icons/close-circle-line-qd3g541O.js"),[],import.meta.url),transfer:()=>I(()=>import("./icons/transfer-4-line-Q9QJoxz3.js"),[],import.meta.url),rocket:()=>I(()=>import("./icons/rocket-line-rZbVYYCZ.js"),[],import.meta.url),"arrow-left":{module:()=>I(()=>import("./icons/arrow-left-line-_YC6-XGG.js"),[],import.meta.url),rtl:!0},"arrow-right":{module:()=>I(()=>import("./icons/arrow-right-line-PypiEqpu.js"),[],import.meta.url),rtl:!0},"arrow-up":()=>I(()=>import("./icons/arrow-up-line-fcuKqhVE.js"),[],import.meta.url),"arrow-down":()=>I(()=>import("./icons/arrow-down-line-0TRJUP_K.js"),[],import.meta.url),earth:()=>I(()=>import("./icons/earth-line-t1Um8wpQ.js"),[],import.meta.url),lock:()=>I(()=>import("./icons/lock-line-0jNHqZpm.js"),[],import.meta.url),unlock:()=>I(()=>import("./icons/unlock-line-w3piJMVb.js"),[],import.meta.url),"eye-close":()=>I(()=>import("./icons/eye-close-line-lBiePPv9.js"),[],import.meta.url),"eye-open":()=>I(()=>import("./icons/eye-2-line-vz_Kw-rK.js"),[],import.meta.url),message:()=>I(()=>import("./icons/mail-line-5XLS6FEo.js"),[],import.meta.url),comment:{module:()=>I(()=>import("./icons/chat-3-line-F0xcdpXY.js"),[],import.meta.url),rtl:!0},comment2:{module:()=>I(()=>import("./icons/comment-2-line-xEXuT-Ip.js"),[],import.meta.url),rtl:!0},home:()=>I(()=>import("./icons/home-3-line-qJiZhXUH.js"),[],import.meta.url),notification:()=>I(()=>import("./icons/notification-line-olNPLtgS.js"),[],import.meta.url),follow:()=>I(()=>import("./icons/user-follow-line-k_GCWTtp.js"),[],import.meta.url),"follow-add":()=>I(()=>import("./icons/user-add-line-zzW9OULB.js"),[],import.meta.url),poll:[()=>I(()=>import("./icons/chart-bar-line-5r_DfN2w.js"),[],import.meta.url),"90deg"],pencil:()=>I(()=>import("./icons/pencil-line-bKXqElLR.js"),[],import.meta.url),quill:()=>I(()=>import("./icons/quill-pen-line-h_5-FsGz.js"),[],import.meta.url),at:()=>I(()=>import("./icons/at-line-9vJS_Hnl.js"),[],import.meta.url),attachment:()=>I(()=>import("./icons/attachment-line-C2PUa1Ke.js"),[],import.meta.url),upload:()=>I(()=>import("./icons/upload-3-line-Qsjvubiw.js"),[],import.meta.url),gear:()=>I(()=>import("./icons/settings-3-line-kt4MSpRv.js"),[],import.meta.url),more:()=>I(()=>import("./icons/more-3-line-wUD-Yhmj.js"),[],import.meta.url),more2:()=>I(()=>import("./icons/more-1-fill-je1-slyh.js"),[],import.meta.url),external:{module:()=>I(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rtl:!0},popout:{module:()=>I(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rtl:!0},popin:{module:()=>I(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rotate:"180deg",rtl:!0},plus:()=>I(()=>import("./icons/add-circle-line--O-MfyNy.js"),[],import.meta.url),"chevron-left":{module:()=>I(()=>import("./icons/left-line-Jck0yVmC.js"),[],import.meta.url),rtl:!0},"chevron-right":{module:()=>I(()=>import("./icons/right-line-7VBoqLdz.js"),[],import.meta.url),rtl:!0},"chevron-down":()=>I(()=>import("./icons/down-line-9PeS5YhF.js"),[],import.meta.url),reply:{module:()=>I(()=>import("./icons/share-forward-line-4jL-2Q4u.js"),[],import.meta.url),rotate:"180deg",flip:"horizontal",rtl:!0},thread:()=>I(()=>import("./icons/route-line-2YYy3958.js"),[],import.meta.url),group:{module:()=>I(()=>import("./icons/group-line-JvhJklhQ.js"),[],import.meta.url),rtl:!0},bot:()=>I(()=>import("./icons/android-2-line-uPwvVubH.js"),[],import.meta.url),menu:()=>I(()=>import("./icons/rows-4-line-SxGPYpTa.js"),[],import.meta.url),list:{module:()=>I(()=>import("./icons/list-check-line-qNqx9Mm4.js"),[],import.meta.url),rtl:!0},search:()=>I(()=>import("./icons/search-2-line-G39AynEw.js"),[],import.meta.url),hashtag:()=>I(()=>import("./icons/hashtag-line-SS3QMu1R.js"),[],import.meta.url),info:()=>I(()=>import("./icons/information-line-8SOch6cR.js"),[],import.meta.url),shortcut:()=>I(()=>import("./icons/lightning-line-JMYUlCZM.js"),[],import.meta.url),user:()=>I(()=>import("./icons/user-4-line-zT_bpOrS.js"),[],import.meta.url),following:()=>I(()=>import("./icons/walk-line-CF7a5s4t.js"),[],import.meta.url),pin:()=>I(()=>import("./icons/pin-line-ULyRQyWZ.js"),[],import.meta.url),unpin:[()=>I(()=>import("./icons/pin-line-ULyRQyWZ.js"),[],import.meta.url),"180deg"],bus:()=>I(()=>import("./icons/bus-2-line-XuQdDZ_w.js"),[],import.meta.url),link:()=>I(()=>import("./icons/link-2-line-BUqp1EwN.js"),[],import.meta.url),history:()=>I(()=>import("./icons/history-line-yoG7K8wL.js"),[],import.meta.url),share:()=>I(()=>import("./icons/share-2-line-PYo-zN94.js"),[],import.meta.url),sparkles:()=>I(()=>import("./icons/sparkles-line-wjZWGZ1a.js"),[],import.meta.url),sparkles2:()=>I(()=>import("./icons/sparkles-2-line-g2FqdZ0R.js"),[],import.meta.url),exit:{module:()=>I(()=>import("./icons/exit-line-l-1uUgI7.js"),[],import.meta.url),rtl:!0},translate:()=>I(()=>import("./icons/translate-line-HpDtlqS2.js"),[],import.meta.url),play:()=>I(()=>import("./icons/play-fill-Ey-zv2eL.js"),[],import.meta.url),trash:()=>I(()=>import("./icons/delete-2-line-pjUduCFs.js"),[],import.meta.url),mute:{module:()=>I(()=>import("./icons/volume-mute-line-WthBoXru.js"),[],import.meta.url),rtl:!0},unmute:{module:()=>I(()=>import("./icons/volume-line-PZujbN8h.js"),[],import.meta.url),rtl:!0},block:()=>I(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),[],import.meta.url),unblock:[()=>I(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),[],import.meta.url),"180deg"],flag:()=>I(()=>import("./icons/flag-1-line-xvcg7G7Q.js"),[],import.meta.url),time:()=>I(()=>import("./icons/time-line-ThP0kTRr.js"),[],import.meta.url),refresh:()=>I(()=>import("./icons/refresh-2-line-t42qqclb.js"),[],import.meta.url),emoji2:()=>I(()=>import("./icons/emoji-2-line--uNVc2IC.js"),[],import.meta.url),filter:()=>I(()=>import("./icons/filter-2-line-KyjbFYlO.js"),[],import.meta.url),filters:()=>I(()=>import("./icons/filter-line-1KEfnWDm.js"),[],import.meta.url),chart:()=>I(()=>import("./icons/chart-line-line-pHaLt6yC.js"),[],import.meta.url),react:()=>I(()=>import("./icons/react-line-YfZPqZem.js"),[],import.meta.url),layout4:{module:()=>I(()=>import("./icons/layout-4-line-FOdnyEcZ.js"),[],import.meta.url),rtl:!0},layout5:()=>I(()=>import("./icons/layout-5-line-9Kks7dle.js"),[],import.meta.url),announce:{module:()=>I(()=>import("./icons/announcement-line-MSlAmDH1.js"),[],import.meta.url),rtl:!0},alert:()=>I(()=>import("./icons/alert-line-zyc6hy8V.js"),[],import.meta.url),round:()=>I(()=>import("./icons/round-fill-a0rplSmV.js"),[],import.meta.url),"arrow-up-circle":()=>I(()=>import("./icons/arrow-up-circle-line-e3kZqEZN.js"),[],import.meta.url),"arrow-down-circle":()=>I(()=>import("./icons/arrow-down-circle-line-mpqFtRtO.js"),[],import.meta.url),clipboard:{module:()=>I(()=>import("./icons/clipboard-line-9F_Yeo71.js"),[],import.meta.url),rtl:!0},"account-edit":()=>I(()=>import("./icons/user-edit-line-9VnWCh0X.js"),[],import.meta.url),"account-warning":()=>I(()=>import("./icons/user-warning-line-gL3RGb1N.js"),[],import.meta.url),keyboard:()=>I(()=>import("./icons/keyboard-line-10AZQcVH.js"),[],import.meta.url),cloud:()=>I(()=>import("./icons/cloud-line-abe0HgFS.js"),[],import.meta.url),month:{module:()=>I(()=>import("./icons/calendar-month-line-VoXZVWAe.js"),[],import.meta.url),rtl:!0},media:()=>I(()=>import("./icons/photo-album-line--GdJqjfq.js"),[],import.meta.url),speak:()=>I(()=>import("./icons/radar-line-ndI8IhOG.js"),[],import.meta.url),building:()=>I(()=>import("./icons/building-5-line-ew7lu83B.js"),[],import.meta.url),history2:{module:()=>I(()=>import("./icons/history-2-line-3yIVzoWo.js"),[],import.meta.url),rtl:!0},document:()=>I(()=>import("./icons/document-line--D6ooZg1.js"),[],import.meta.url),"arrows-right":{module:()=>I(()=>import("./icons/arrows-right-line-HF4HILdT.js"),[],import.meta.url),rtl:!0},code:()=>I(()=>import("./icons/code-line-h4RWLaak.js"),[],import.meta.url),copy:()=>I(()=>import("./icons/copy-2-line-mPSDKieb.js"),[],import.meta.url),quote:{module:()=>I(()=>import("./icons/quote-left-line-NQzeELMO.js"),[],import.meta.url),rtl:!0},settings:()=>I(()=>import("./icons/settings-6-line-ZgCBilgF.js"),[],import.meta.url),"heart-break":()=>I(()=>import("./icons/heart-crack-line-P3DoKfTT.js"),[],import.meta.url),"user-x":()=>I(()=>import("./icons/user-x-line-zIdph-gu.js"),[],import.meta.url),minimize:()=>I(()=>import("./icons/arrows-down-line-ovOF9r0o.js"),[],import.meta.url)},qa={s:12,m:16,l:20,xl:24,xxl:32},qo={},Ga=ma(function({width:e,height:t,body:n,rotate:r,flip:o}){return s("svg",{viewBox:`0 0 ${e} ${t}`,dangerouslySetInnerHTML:{__html:n},style:{transform:`${r?`rotate(${r})`:""} ${o?"scaleX(-1)":""}`}})},{isShallowEqual:!0,maxSize:Object.keys(Zi).length,matchesArg:(e,t)=>e.icon===t.icon&&e.body===t.body});function H({icon:e,size:t="m",alt:n,title:r,class:o="",style:i={}}){if(!e)return null;const a=qa[t];let u=Zi[e];if(!u)return null;let c,l,f=!1;Array.isArray(u)?[u,c,l]=u:typeof u=="object"&&({rotate:c,flip:l,rtl:f}=u,u=u.module);const[d,p]=te(qo[e]),m=j(e);return se(()=>{d&&m.current===e||((async()=>{const h=await u();p(h.default),qo[e]=h.default})(),m.current=e)},[e]),s("span",{class:`icon ${o} ${f?"rtl-flip":""}`,title:r||n,style:{width:`${a}px`,height:`${a}px`,...i},"data-icon":e,children:d&&s(Ga,{icon:e,width:d.width,height:d.height,body:d.body,rotate:c,flip:l})})}function Xa(e,t=[]){!e||typeof e!="function"||se(()=>{const n=new CloseWatcher;return n.addEventListener("close",e),()=>{n.destroy()}},t)}const Ja=window.CloseWatcher?Xa:()=>{},Qa=document.getElementById("modal-container");function Zr({children:e,onClose:t,onClick:n,class:r,minimized:o}){if(!e)return null;const i=j();se(()=>{let l=setTimeout(()=>{var d;const f=(d=i.current)==null?void 0:d.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(l)},[]);const a=window.CloseWatcher,u=Nt("esc",()=>{setTimeout(()=>{t==null||t()},0)},{enabled:!a&&!!t,keydown:!1,keyup:!0},[t]);Ja(t,[t]),se(()=>{const l=document.querySelectorAll(".deck-container");if(o){const f=l[l.length-1];f&&f.tabIndex===-1&&f.focus()}else e?l.forEach(f=>{f.setAttribute("inert","")}):l.forEach(f=>{f.removeAttribute("inert")});return()=>{l.forEach(f=>{f.removeAttribute("inert")})}},[e,o]);const c=s("div",{ref:l=>{var f;i.current=l,u.current=((f=l==null?void 0:l.querySelector)==null?void 0:f.call(l,'[tabindex="-1"]'))||l},className:r,onClick:l=>{n==null||n(l),l.target===l.currentTarget&&(t==null||t(l))},tabIndex:o?0:"-1",inert:o,onFocus:l=>{var f,d;try{if(l.target===l.currentTarget){const p=(f=i.current)==null?void 0:f.querySelector('[tabindex="-1"]'),m=!!p&&((d=getComputedStyle(p))==null?void 0:d.pointerEvents)!=="none";p&&m&&p.focus()}}catch{}},children:e});return Gn(c,Qa)}var go={exports:{}},ec="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tc=ec;var nc=tc;function Yi(){}function qi(){}qi.resetWarningCache=Yi;var rc=function(){function e(r,o,i,a,u,c){if(c!==nc){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qi,resetWarningCache:Yi};return n.PropTypes=n,n};var vf=go.exports;if(0)var yf,_f;else go.exports=rc();var G=go.exports;const vo=e=>!!e&&e[0]==="o",Yr=ga||(e=>e());const mn=(e,t)=>e===!0||!!(e&&e[t]),Fe=(e,t)=>typeof e=="function"?e(t):e,oc="_szhsinMenu",ic=e=>e[oc];const Wt=(e,t)=>(t&&Object.keys(t).forEach(n=>{const r=e[n],o=t[n];typeof o=="function"&&r?e[n]=(...i)=>{o(...i),r(...i)}:e[n]=o}),e),sc=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}},Sr=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:t,overflowX:n,overflowY:r}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+r+n))return e}};function ur(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function Go(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}const ac=e=>({[e?`${e}ClassName`:"className"]:G.oneOfType([G.string,G.func])}),cc={className:G.string,...ac("menu"),arrowProps:G.object,focusProps:G.object,menuStyle:G.object,arrow:G.bool,setDownOverflow:G.bool,gap:G.number,shift:G.number,align:G.oneOf(["start","center","end"]),direction:G.oneOf(["left","right","top","bottom"]),position:G.oneOf(["auto","anchor","initial"]),overflow:G.oneOf(["auto","visible","hidden"])},bf={...cc,containerProps:G.object,initialMounted:G.bool,unmountOnClose:G.bool,transition:G.oneOfType([G.bool,G.exact({open:G.bool,close:G.bool,item:G.bool})]),transitionTimeout:G.number,boundingBoxRef:G.object,boundingBoxPadding:G.string,reposition:G.oneOf(["auto","initial"]),repositionFlag:G.oneOfType([G.string,G.number]),viewScroll:G.oneOf(["auto","close","initial"]),submenuOpenDelay:G.number,submenuCloseDelay:G.number,portal:G.oneOfType([G.bool,G.exact({target:G.object,stablePosition:G.bool})]),theming:G.string,onItemClick:G.func},wf={instanceRef:G.oneOfType([G.object,G.func]),onMenuChange:G.func},Je=({block:e,element:t,modifiers:n,className:r})=>fe(()=>{const o=t?`${e}__${t}`:e;let i=o;n&&Object.keys(n).forEach(u=>{const c=n[u];c&&(i+=` ${o}--${c===!0?u:`${u}-${c}`}`)});let a=typeof r=="function"?r(n):r;return typeof a=="string"&&(a=a.trim(),a&&(i+=` ${a}`)),i},[e,t,n,r]),lc="szh-menu-container",Xe="szh-menu";const uc="arrow",yo="item",dc="divider",fc="header",hc="group",pc="submenu";const Gi=ot(),_o=ot({}),Jn=ot({}),bo=ot({}),mc=ot({}),dr=ot({}),Oe=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Me=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),gn=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),zt=Object.freeze({FIRST:"first",LAST:"last"}),gc=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),kr="absolute",wo="presentation",fr="menuitem",Xo={"aria-hidden":!0,role:fr};const vc=({className:e,containerRef:t,containerProps:n,children:r,isOpen:o,theming:i,transition:a,onClose:u})=>{const c=mn(a,"item");return s("div",{...Wt({onKeyDown:({key:d})=>{switch(d){case Oe.ESC:Fe(u,{key:d,reason:gn.CANCEL});break}},onBlur:d=>{o&&!d.currentTarget.contains(d.relatedTarget)&&Fe(u,{reason:gn.BLUR})}},n),className:Je({block:lc,modifiers:fe(()=>({theme:i,itemTransition:c}),[i,c]),className:e}),style:{position:"absolute",...n==null?void 0:n.style},ref:t,children:r})},yc=()=>{let e,t=0;return{toggle:n=>{n?t++:t--,t=Math.max(t,0)},on:(n,r,o)=>{t?e||(e=setTimeout(()=>{e=0,r()},n)):o==null||o()},off:()=>{e&&(clearTimeout(e),e=0)}}},_c=(e,t)=>{const[n,r]=te(),i=j({items:[],hoverIndex:-1,sorted:!1}).current,a=Ie((c,l)=>{const{items:f}=i;if(!c)i.items=[];else if(l)f.push(c);else{const d=f.indexOf(c);d>-1&&(f.splice(d,1),c.contains(document.activeElement)&&(t.current.focus(),r()))}i.hoverIndex=-1,i.sorted=!1},[i,t]),u=Ie((c,l,f)=>{const{items:d,hoverIndex:p}=i,m=()=>{if(i.sorted)return;const y=e.current.querySelectorAll(".szh-menu__item");d.sort((T,_)=>Go(y,T)-Go(y,_)),i.sorted=!0};let h=-1,g;switch(c){case Me.RESET:break;case Me.SET:g=l;break;case Me.UNSET:g=y=>y===l?void 0:y;break;case Me.FIRST:m(),h=0,g=d[h];break;case Me.LAST:m(),h=d.length-1,g=d[h];break;case Me.SET_INDEX:m(),h=f,g=d[h];break;case Me.INCREASE:m(),h=p,h<0&&(h=d.indexOf(l)),h++,h>=d.length&&(h=0),g=d[h];break;case Me.DECREASE:m(),h=p,h<0&&(h=d.indexOf(l)),h--,h<0&&(h=d.length-1),g=d[h];break;default:}g||(h=-1),r(g),i.hoverIndex=h},[e,i]);return{hoverItem:n,dispatch:u,updateItems:a}},Jo=(e,t)=>Math.round(e)===t?e:t,Xi=e=>{const t=e.getBoundingClientRect();return t.width=Jo(t.width,e.offsetWidth),t.height=Jo(t.height,e.offsetHeight),t},bc=(e,t,n,r)=>{const o=Xi(t.current),i=e.current.getBoundingClientRect(),a=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),u=sc(r),c=h=>h+i.left-a.left-u.left,l=h=>h+i.left+o.width-a.right+u.right,f=h=>h+i.top-a.top-u.top,d=h=>h+i.top+o.height-a.bottom+u.bottom;return{menuRect:o,containerRect:i,getLeftOverflow:c,getRightOverflow:l,getTopOverflow:f,getBottomOverflow:d,confineHorizontally:h=>{let g=c(h);if(g<0)h-=g;else{const y=l(h);y>0&&(h-=y,g=c(h),g<0&&(h-=g))}return h},confineVertically:h=>{let g=f(h);if(g<0)h-=g;else{const y=d(h);y>0&&(h-=y,g=f(h),g<0&&(h-=g))}return h}}},wc=({arrowRef:e,menuY:t,anchorRect:n,containerRect:r,menuRect:o})=>{let i=n.top-r.top-t+n.height/2;const a=e.current.offsetHeight*1.25;return i=Math.max(a,i),i=Math.min(i,o.height-a),i},Tc=({anchorRect:e,containerRect:t,menuRect:n,placeLeftorRightY:r,placeLeftX:o,placeRightX:i,getLeftOverflow:a,getRightOverflow:u,confineHorizontally:c,confineVertically:l,arrowRef:f,arrow:d,direction:p,position:m})=>{let h=p,g=r;m!=="initial"&&(g=l(g),m==="anchor"&&(g=Math.min(g,e.bottom-t.top),g=Math.max(g,e.top-t.top-n.height)));let y,T,_;return h==="left"?(y=o,m!=="initial"&&(T=a(y),T<0&&(_=u(i),(_<=0||-T>_)&&(y=i,h="right")))):(y=i,m!=="initial"&&(_=u(y),_>0&&(T=a(o),(T>=0||-T<_)&&(y=o,h="left")))),m==="auto"&&(y=c(y)),{arrowY:d?wc({menuY:g,arrowRef:f,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:y,y:g,computedDirection:h}},Ec=({arrowRef:e,menuX:t,anchorRect:n,containerRect:r,menuRect:o})=>{let i=n.left-r.left-t+n.width/2;const a=e.current.offsetWidth*1.25;return i=Math.max(a,i),i=Math.min(i,o.width-a),i},xc=({anchorRect:e,containerRect:t,menuRect:n,placeToporBottomX:r,placeTopY:o,placeBottomY:i,getTopOverflow:a,getBottomOverflow:u,confineHorizontally:c,confineVertically:l,arrowRef:f,arrow:d,direction:p,position:m})=>{let h=p==="top"?"top":"bottom",g=r;m!=="initial"&&(g=c(g),m==="anchor"&&(g=Math.min(g,e.right-t.left),g=Math.max(g,e.left-t.left-n.width)));let y,T,_;return h==="top"?(y=o,m!=="initial"&&(T=a(y),T<0&&(_=u(i),(_<=0||-T>_)&&(y=i,h="bottom")))):(y=i,m!=="initial"&&(_=u(y),_>0&&(T=a(o),(T>=0||-T<_)&&(y=o,h="top")))),m==="auto"&&(y=l(y)),{arrowX:d?Ec({menuX:g,arrowRef:f,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:g,y,computedDirection:h}},Mc=({arrow:e,align:t,direction:n,gap:r,shift:o,position:i,anchorRect:a,arrowRef:u,positionHelpers:c})=>{const{menuRect:l,containerRect:f}=c,d=n==="left"||n==="right";let p=d?r:o,m=d?o:r;if(e){const b=u.current;d?p+=b.offsetWidth:m+=b.offsetHeight}const h=a.left-f.left-l.width-p,g=a.right-f.left+p,y=a.top-f.top-l.height-m,T=a.bottom-f.top+m;let _,E;t==="end"?(_=a.right-f.left-l.width,E=a.bottom-f.top-l.height):t==="center"?(_=a.left-f.left-(l.width-a.width)/2,E=a.top-f.top-(l.height-a.height)/2):(_=a.left-f.left,E=a.top-f.top),_+=p,E+=m;const w={...c,anchorRect:a,placeLeftX:h,placeRightX:g,placeLeftorRightY:E,placeTopY:y,placeBottomY:T,placeToporBottomX:_,arrowRef:u,arrow:e,direction:n,position:i};switch(n){case"left":case"right":return Tc(w);case"top":case"bottom":default:return xc(w)}},Ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?pn:se;function Qo(e,t){typeof e=="function"?e(t):e.current=t}const Kt=(e,t)=>fe(()=>e?t?n=>{Qo(e,n),Qo(t,n)}:e:t,[e,t]),ei=-9999,Ji=({ariaLabel:e,menuClassName:t,menuStyle:n,arrow:r,arrowProps:o={},anchorPoint:i,anchorRef:a,containerRef:u,containerProps:c,focusProps:l,externalRef:f,parentScrollingRef:d,align:p="start",direction:m="bottom",position:h="auto",overflow:g="visible",setDownOverflow:y,repositionFlag:T,captureFocus:_=!0,state:E,endTransition:w,isDisabled:b,menuItemFocus:M,gap:A=0,shift:O=0,children:P,onClose:x,...S})=>{const[V,B]=te({x:ei,y:ei}),[D,$]=te({}),[k,R]=te(),[L,z]=te(m),[F]=te(yc),[C,K]=Di(re=>re+1,1),{transition:Z,boundingBoxRef:ne,boundingBoxPadding:le,rootMenuRef:Te,rootAnchorRef:he,scrollNodesRef:ve,reposition:ye,viewScroll:ie,submenuCloseDelay:de}=De(dr),{submenuCtx:q,reposSubmenu:oe=T}=De(Jn),Ee=j(null),ct=j(),Y=j(),ge=j(!1),{hoverItem:ee,dispatch:J,updateItems:pe}=_c(Ee,ct),ue=vo(E),ae=mn(Z,"open"),ze=mn(Z,"close"),Le=ve.current,Ve=re=>{switch(re.key){case Oe.HOME:J(Me.FIRST);break;case Oe.END:J(Me.LAST);break;case Oe.UP:J(Me.DECREASE,ee);break;case Oe.DOWN:J(Me.INCREASE,ee);break;case Oe.SPACE:re.target&&re.target.className.indexOf(Xe)!==-1&&re.preventDefault();return;default:return}re.preventDefault(),re.stopPropagation()},Se=()=>{E==="closing"&&R(),Fe(w)},Ae=re=>{re.stopPropagation(),F.on(de,()=>{J(Me.RESET),ct.current.focus()})},Re=re=>{re.target===re.currentTarget&&F.off()},_e=Ie(re=>{var be;const He=a?(be=a.current)==null?void 0:be.getBoundingClientRect():i?{left:i.x,right:i.x,top:i.y,bottom:i.y,width:0,height:0}:null;if(!He)return;Le.menu||(Le.menu=(ne?ne.current:Sr(Te.current))||window);const Ne=bc(u,Ee,Le.menu,le);let{arrowX:xe,arrowY:vt,x:En,y:je,computedDirection:xn}=Mc({arrow:r,align:p,direction:m,gap:A,shift:O,position:h,anchorRect:He,arrowRef:Y,positionHelpers:Ne});const{menuRect:Ke}=Ne,dt=Ke.height;if(!re&&g!=="visible"){const{getTopOverflow:pr,getBottomOverflow:mr}=Ne;let me,yt;const Gt=mr(je);if(Gt>0)me=dt-Gt,yt=Gt;else{const _t=pr(je);_t<0&&(me=dt+_t,yt=0-_t,me>=0&&(je-=_t))}me>=0&&R({height:me,overflowAmt:yt})}r&&$({x:xe,y:vt}),B({x:En,y:je}),z(xn)},[r,p,le,m,A,O,h,g,i,a,u,ne,Te,Le]);Ht(()=>{ue&&(_e(),ge.current&&K()),ge.current=ue},[ue,_e,oe]),Ht(()=>{k&&!y&&(Ee.current.scrollTop=0)},[k,y]),Ht(()=>pe,[pe]),se(()=>{let{menu:re}=Le;if(!ue||!re)return;if(re=re.addEventListener?re:window,!Le.anchors){Le.anchors=[];let xe=Sr(he&&he.current);for(;xe&&xe!==re;)Le.anchors.push(xe),xe=Sr(xe)}let be=ie;if(Le.anchors.length&&be==="initial"&&(be="auto"),be==="initial")return;const He=()=>{be==="auto"?Yr(()=>_e(!0)):Fe(x,{reason:gn.SCROLL})},Ne=Le.anchors.concat(ie!=="initial"?re:[]);return Ne.forEach(xe=>xe.addEventListener("scroll",He)),()=>Ne.forEach(xe=>xe.removeEventListener("scroll",He))},[he,Le,ue,x,ie,_e]);const Zt=!!k&&k.overflowAmt>0;se(()=>{if(Zt||!ue||!d)return;const re=()=>Yr(_e),be=d.current;return be.addEventListener("scroll",re),()=>be.removeEventListener("scroll",re)},[ue,Zt,d,_e]),se(()=>{if(!ue||typeof ResizeObserver!="function"||ye==="initial")return;const re=[],be=new ResizeObserver(xe=>xe.forEach(({target:vt})=>{re.indexOf(vt)<0?re.push(vt):va(()=>{_e(),K()})})),He={box:"border-box"};be.observe(Ee.current,He);const Ne=a==null?void 0:a.current;return Ne&&be.observe(Ne,He),()=>be.disconnect()},[ue,ye,a,_e]),se(()=>{if(!ue){J(Me.RESET),ze||R();return}const{position:re,alwaysUpdate:be}=M||{},He=()=>{re===zt.FIRST?J(Me.FIRST):re===zt.LAST?J(Me.LAST):re>=-1&&J(Me.SET_INDEX,void 0,re)};if(be)He();else if(_){const Ne=setTimeout(()=>{const xe=Ee.current;xe&&!xe.contains(document.activeElement)&&(ct.current.focus(),He())},ae?170:100);return()=>clearTimeout(Ne)}},[ue,ae,ze,_,M,J]);const It=fe(()=>({isParentOpen:ue,submenuCtx:F,dispatch:J,updateItems:pe}),[ue,F,J,pe]);let $t,Yt;k&&(y?Yt=k.overflowAmt:$t=k.height);const we=fe(()=>({reposSubmenu:C,submenuCtx:F,overflow:g,overflowAmt:Yt,parentMenuRef:Ee,parentDir:L}),[C,F,g,Yt,L]),qt=$t>=0?{maxHeight:$t,overflow:g}:void 0,lt=fe(()=>({state:E,align:p,dir:L}),[E,p,L]),Qe=fe(()=>({dir:L}),[L]),hr=Je({block:Xe,element:uc,modifiers:Qe,className:o.className}),ut=s("ul",{role:"menu","aria-label":e,...ur(b),...Wt({onPointerEnter:q==null?void 0:q.off,onPointerMove:Ae,onPointerLeave:Re,onKeyDown:Ve,onAnimationEnd:Se},S),ref:Kt(f,Ee),className:Je({block:Xe,modifiers:lt,className:t}),style:{...n,...qt,margin:0,display:E==="closed"?"none":void 0,position:kr,left:V.x,top:V.y},children:[s("li",{tabIndex:-1,style:{position:kr,left:0,top:0,display:"block",outline:"none"},ref:ct,...Xo,...l}),r&&s("li",{...Xo,...o,className:hr,style:{display:"block",position:kr,left:D.x,top:D.y,...o.style},ref:Y}),s(Jn.Provider,{value:we,children:s(_o.Provider,{value:It,children:s(Gi.Provider,{value:ee,children:Fe(P,lt)})})})]});return c?s(vc,{...c,isOpen:ue,children:ut}):ut},Qi=kt(function({"aria-label":t,className:n,containerProps:r,initialMounted:o,unmountOnClose:i,transition:a,transitionTimeout:u,boundingBoxRef:c,boundingBoxPadding:l,reposition:f="auto",submenuOpenDelay:d=300,submenuCloseDelay:p=150,viewScroll:m="initial",portal:h,theming:g,onItemClick:y,...T},_){const E=j(null),w=j({}),{anchorRef:b,state:M,onClose:A}=T,O=fe(()=>({initialMounted:o,unmountOnClose:i,transition:a,transitionTimeout:u,boundingBoxRef:c,boundingBoxPadding:l,rootMenuRef:E,rootAnchorRef:b,scrollNodesRef:w,reposition:f,viewScroll:m,submenuOpenDelay:d,submenuCloseDelay:p}),[o,i,a,u,b,c,l,f,m,d,p]),P=fe(()=>({handleClick(S,V){S.stopPropagation||Fe(y,S);let B=S.keepOpen;B===void 0&&(B=V&&S.key===Oe.SPACE),B||Fe(A,{value:S.value,key:S.key,reason:gn.CLICK})},handleClose(S){Fe(A,{key:S,reason:gn.CLICK})}}),[y,A]);if(!M)return null;const x=s(dr.Provider,{value:O,children:s(bo.Provider,{value:P,children:s(Ji,{...T,ariaLabel:t||"Menu",externalRef:_,containerRef:E,containerProps:{className:n,containerRef:E,containerProps:r,theming:g,transition:a,onClose:A}})})});return h===!0&&typeof document<"u"?Gn(x,document.body):h?h.target?Gn(x,h.target):h.stablePosition?null:x:x}),qr=0,Gr=1,Qn=2,er=3,tr=4,Sc=5,es=6,kc=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],ts=e=>({_s:e,status:kc[e],isEnter:e<er,isMounted:e!==es,isResolved:e===Qn||e>tr}),Xr=e=>e?es:Sc,Ac=(e,t)=>{switch(e){case Gr:case qr:return Qn;case tr:case er:return Xr(t)}},Ic=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],ti=(e,t,n,r,o)=>{clearTimeout(r.current);const i=ts(e);t(i),n.current=i,o&&o({current:i})},$c=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:o,initialEntered:i,mountOnEnter:a,unmountOnExit:u,onStateChange:c}={})=>{const[l,f]=te(()=>ts(i?Qn:Xr(a))),d=j(l),p=j(),[m,h]=Ic(o),g=Ie(()=>{const T=Ac(d.current._s,u);T&&ti(T,f,d,p,c)},[c,u]),y=Ie(T=>{const _=w=>{switch(ti(w,f,d,p,c),w){case Gr:m>=0&&(p.current=setTimeout(g,m));break;case tr:h>=0&&(p.current=setTimeout(g,h));break;case qr:case er:p.current=setTimeout(()=>_(w+1),0);break}},E=d.current.isEnter;typeof T!="boolean"&&(T=!E),T?!E&&_(e?n?qr:Gr:Qn):E&&_(t?r?er:tr:Xr(u))},[g,c,e,t,n,r,m,h,u]);return se(()=>()=>clearTimeout(p.current),[]),[l,y,g]};const Lc=({initialOpen:e,initialMounted:t,unmountOnClose:n,transition:r,transitionTimeout:o=500}={})=>{const[{status:i},a,u]=$c({initialEntered:e,mountOnEnter:!t,unmountOnExit:n,timeout:o,enter:mn(r,"open"),exit:mn(r,"close")});return[{state:gc[i],endTransition:u},a]},ns=e=>{const[t,n]=Lc(e),[r,o]=te(),i=(a,u)=>{o({position:a,alwaysUpdate:u}),n(!0)};return[{menuItemFocus:r,...t},n,i]},Cc=(e,t)=>{const[n]=te({});return{onMouseDown:()=>{n.v=e&&e!=="closed"},onClick:r=>n.v?n.v=!1:t(!0,r)}},rs=(e,t)=>{const n=j(t);se(()=>{n.current!==t&&Fe(e,{open:t}),n.current=t},[e,t])},Pc=kt(function({"aria-label":t,captureFocus:n,initialOpen:r,menuButton:o,instanceRef:i,onMenuChange:a,...u},c){const[l,f,d]=ns(u),{state:p}=l,m=vo(p),h=j(null),g=Cc(p,(b,M)=>d(M.detail?void 0:zt.FIRST)),y=Ie(b=>{f(!1),b.key&&h.current.focus()},[f]),T=b=>{switch(b.key){case Oe.UP:d(zt.LAST);break;case Oe.DOWN:d(zt.FIRST);break;default:return}b.preventDefault()},_=Fe(o,{open:m});if(!_||!_.type)throw new Error("Menu requires a menuButton prop.");const E={ref:Kt(_.ref,h),...Wt({onKeyDown:T,...g},_.props)};ic(_.type)==="MenuButton"&&(E.isOpen=m);const w=Ri(_,E);return rs(a,m),Ni(i,()=>({openMenu:d,closeMenu:()=>f(!1)})),s(U,{children:[w,s(Qi,{...u,...l,"aria-label":t||(typeof _.props.children=="string"?_.props.children:"Menu"),anchorRef:h,ref:c,onClose:y})]})}),To=(e,t)=>{const n=it(t),r=kt((o,i)=>{const a=j(null);return s(n,{...o,itemRef:a,externalRef:i,isHovering:De(Gi)===a.current})});return r.displayName=`WithHovering(${e})`,r},os=(e,t,n)=>{Ht(()=>{if(e)return;const r=t.current;return n(r,!0),()=>{n(r)}},[e,t,n])},Oc=To("SubMenu",function({"aria-label":t,className:n,disabled:r,direction:o,label:i,openTrigger:a,onMenuChange:u,isHovering:c,instanceRef:l,itemRef:f,captureFocus:d,repositionFlag:p,itemProps:m={},...h}){const g=De(dr),{rootMenuRef:y,submenuOpenDelay:T,submenuCloseDelay:_}=g,{parentMenuRef:E,parentDir:w,overflow:b}=De(Jn),{isParentOpen:M,submenuCtx:A,dispatch:O,updateItems:P}=De(_o),x=b!=="visible",[S,V,B]=ns(g),{state:D}=S,$=!!r,k=vo(D),R=j(null),[L]=te({v:0}),z=()=>{A.off(),L.v&&(clearTimeout(L.v),L.v=0)},F=(...oe)=>{z(),C(),!$&&B(...oe)},C=()=>!c&&!$&&O(Me.SET,f.current),K=oe=>{C(),a||(L.v=setTimeout(()=>Yr(F),Math.max(oe,0)))},Z=oe=>{$||(oe.stopPropagation(),!(L.v||k)&&A.on(_,()=>K(T-_),()=>K(T)))},ne=()=>{z(),k||O(Me.UNSET,f.current)},le=oe=>{if(c)switch(oe.key){case Oe.ENTER:oe.preventDefault();case Oe.SPACE:case Oe.RIGHT:a!=="none"&&F(zt.FIRST)}},Te=oe=>{let Ee=!1;switch(oe.key){case Oe.LEFT:k&&(f.current.focus(),V(!1),Ee=!0);break;case Oe.RIGHT:k||(Ee=!0);break}Ee&&(oe.preventDefault(),oe.stopPropagation())};os($,f,P),rs(u,k),se(()=>A.toggle(k),[A,k]),se(()=>()=>clearTimeout(L.v),[L]),se(()=>{c&&M?f.current.focus():V(!1)},[c,M,V,f]),Ni(l,()=>({openMenu:(...oe)=>{M&&F(...oe)},closeMenu:()=>{k&&(f.current.focus(),V(!1))}}));const he=fe(()=>({open:k,hover:c,disabled:$,submenu:!0}),[k,c,$]),{ref:ve,className:ye,...ie}=m,de=Wt({onPointerEnter:A.off,onPointerMove:Z,onPointerLeave:ne,onKeyDown:le,onClick:()=>a!=="none"&&F()},ie),q=()=>{const oe=s(Ji,{...h,...S,ariaLabel:t||(typeof i=="string"?i:"Submenu"),anchorRef:f,containerRef:x?y:R,direction:o||(w==="right"||w==="left"?w:"right"),parentScrollingRef:x&&E,isDisabled:$}),Ee=y.current;return x&&Ee?Gn(oe,Ee):oe};return s("li",{className:Je({block:Xe,element:pc,className:n}),style:{position:"relative"},role:wo,ref:R,onKeyDown:Te,children:[s("div",{role:fr,"aria-haspopup":!0,"aria-expanded":k,...ur($,c),...de,ref:Kt(ve,f),className:Je({block:Xe,element:yo,modifiers:he,className:ye}),children:fe(()=>Fe(i,he),[i,he])}),D&&q()]})}),is=(e,t,n,r)=>{const{submenuCloseDelay:o}=De(dr),{isParentOpen:i,submenuCtx:a,dispatch:u,updateItems:c}=De(_o),l=()=>{!n&&!r&&u(Me.SET,e.current)},f=()=>{!r&&u(Me.UNSET,e.current)},d=h=>{n&&!h.currentTarget.contains(h.relatedTarget)&&f()},p=h=>{r||(h.stopPropagation(),a.on(o,l,l))},m=(h,g)=>{a.off(),!g&&f()};return os(r,e,c),se(()=>{n&&i&&t.current&&t.current.focus()},[t,n,i]),{setHover:l,onBlur:d,onPointerMove:p,onPointerLeave:m}},ke=To("MenuItem",function({className:t,value:n,href:r,type:o,checked:i,disabled:a,children:u,onClick:c,isHovering:l,itemRef:f,externalRef:d,...p}){const m=!!a,{setHover:h,...g}=is(f,f,l,m),y=De(bo),T=De(mc),_=o==="radio",E=o==="checkbox",w=!!r&&!m&&!_&&!E,b=_?T.value===n:E?!!i:!1,M=S=>{if(m){S.stopPropagation(),S.preventDefault();return}const V={value:n,syntheticEvent:S};S.key!==void 0&&(V.key=S.key),E&&(V.checked=!b),_&&(V.name=T.name),Fe(c,V),_&&Fe(T.onRadioChange,V),y.handleClick(V,E||_)},A=S=>{if(l)switch(S.key){case Oe.ENTER:S.preventDefault();case Oe.SPACE:w?f.current.click():M(S)}},O=fe(()=>({type:o,disabled:m,hover:l,checked:b,anchor:w}),[o,m,l,b,w]),P=Wt({...g,onPointerDown:h,onKeyDown:A,onClick:M},p),x={role:_?"menuitemradio":E?"menuitemcheckbox":fr,"aria-checked":_||E?b:void 0,...ur(m,l),...P,ref:Kt(d,f),className:Je({block:Xe,element:yo,modifiers:O,className:t}),children:fe(()=>Fe(u,O),[u,O])};return w?s("li",{role:wo,children:s("a",{href:r,...x})}):s("li",{...x})}),Dc=To("FocusableItem",function({className:t,disabled:n,children:r,isHovering:o,itemRef:i,externalRef:a,...u}){const c=!!n,l=j(null),{setHover:f,onPointerLeave:d,...p}=is(i,l,o,c),{handleClose:m}=De(bo),h=fe(()=>({disabled:c,hover:o,focusable:!0}),[c,o]),g=fe(()=>Fe(r,{...h,ref:l,closeMenu:m}),[r,h,m]),y=Wt({...p,onPointerLeave:T=>d(T,!0),onFocus:f},u);return s("li",{role:fr,...ur(c),...y,ref:Kt(a,i),className:Je({block:Xe,element:yo,modifiers:h,className:t}),children:g})}),tn=it(kt(function({className:t,...n},r){return s("li",{role:"separator",...n,ref:r,className:Je({block:Xe,element:dc,className:t})})})),Tf=it(kt(function({className:t,...n},r){return s("li",{role:wo,...n,ref:r,className:Je({block:Xe,element:fc,className:t})})})),Ef=kt(function({className:t,style:n,takeOverflow:r,...o},i){const a=j(null),[u,c]=te(),{overflow:l,overflowAmt:f}=De(Jn);return Ht(()=>{let d;r&&f>=0&&(d=Xi(a.current).height-f,d<0&&(d=0)),c(d>=0?{maxHeight:d,overflow:l}:void 0)},[r,l,f]),Ht(()=>{u&&(a.current.scrollTop=0)},[u]),s("div",{...o,ref:Kt(i,a),className:Je({block:Xe,element:hc,className:t}),style:{...n,...u}})});const ni={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},nn={},sn=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),Kn=sn.getContext("2d",{willReadFrequently:!0});Kn.imageSmoothingEnabled=!1;function Rc({url:e,size:t,alt:n="",squircle:r,...o}){t=ni[t]||t||ni.m;const i=j(),a=/missing\.png$/.test(e);return s("span",{ref:i,class:`avatar ${r?"squircle":""} ${nn[e]?"has-alpha":""}`,style:{width:t,height:t},title:n,...o,children:!!e&&s("img",{src:e,width:t,height:t,alt:n,loading:"lazy",decoding:"async",crossOrigin:nn[e]===void 0&&!a?"anonymous":void 0,onError:u=>{u.target.crossOrigin&&(u.target.crossOrigin=null,u.target.src=e)},onLoad:u=>{i.current&&(i.current.dataset.loaded=!0),nn[e]===void 0&&(a||setTimeout(()=>{try{const{width:c,height:l}=u.target;sn.width!==c&&(sn.width=c),sn.height!==l&&(sn.height=l),Kn.drawImage(u.target,0,0);const f=Kn.getImageData(0,0,c,l),d=f.data.filter((p,m)=>m%4===3&&p<=128).length/(f.data.length/4)>.1;d&&i.current.classList.add("has-alpha"),nn[e]=d,Kn.clearRect(0,0,c,l)}catch{nn[e]=!1}},1))}})})}const nt=st(Rc),jt=kt((e,t)=>{var u;let n;try{n=ya()}catch{}let r=(location.hash||"").replace(/^#/,"").trim();r===""&&(r="/");const{to:o,...i}=e;if(r&&r!=="/"&&r.includes("?")){const c=URL.parse(r,location.origin);if((u=c==null?void 0:c.searchParams)!=null&&u.size){const l=Array.from(c.searchParams.entries()).map(([f,d])=>`${f}=${encodeURIComponent(d)}`).join("&");r=c.pathname+"?"+l}}const a=r===o||decodeURIComponent(r)===o;return s("a",{ref:t,href:`#${o}`,...i,class:`${e.class||""} ${a?"is-active":""}`,onClick:c=>{var l,f,d;(f=(l=c.currentTarget)==null?void 0:l.parentNode)!=null&&f.closest("a")&&c.stopPropagation(),n&&(W.prevLocation=n),(d=e.onClick)==null||d.call(e,c)}})});let Jr=!1;const Nc=new MutationObserver(e=>{e.forEach(t=>{if(t.type==="attributes"){const{dir:n}=t.target;n==="rtl"?Jr=!0:Jr=!1}})});Nc.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});function Qr(){return Jr}const Fc=document.documentElement,Rn=getComputedStyle(Fc),zc=8;let ss=[0,0,0,0];function as(){const e=Rn.getPropertyValue("--sai-top"),t=Rn.getPropertyValue("--sai-right"),n=Rn.getPropertyValue("--sai-bottom"),r=Rn.getPropertyValue("--sai-left");ss=[Math.max(0,parseInt(e,10)),Math.max(0,parseInt(t,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(r,10))]}requestAnimationFrame(as);function cs(e=[]){return ss.map((n,r)=>(n||zc)+(e[r]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",as,{passive:!0});function Hc(){const[e,t]=te({width:null,height:null});return pn(()=>{const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n,{passive:!0}),()=>{window.removeEventListener("resize",n)}},[]),e}function ls(e){const{containerProps:t,instanceRef:n,align:r}=e,o=Hc(),i=n!=null&&n.current?n:j(),a=Qr()?r==="end"?"start":r==="start"?"end":r:r;return s(Pc,{boundingBoxPadding:cs(),repositionFlag:`${o.width}x${o.height}`,unmountOnClose:!0,...e,align:a,instanceRef:i,containerProps:{onClick:u=>{var c,l,f;u.target===u.currentTarget&&((l=(c=i.current)==null?void 0:c.closeMenu)==null||l.call(c)),(f=t==null?void 0:t.onClick)==null||f.call(t,u)},...t}})}function Vc(e){const t=j();return s(Oc,{...e,instanceRef:t,itemProps:{onPointerMove:n=>{var r,o;n.pointerType==="touch"&&((o=(r=t.current)==null?void 0:r.openMenu)==null||o.call(r))},onPointerLeave:n=>{var r,o;n.pointerType==="touch"&&((o=(r=t.current)==null?void 0:r.openMenu)==null||o.call(r))}}})}function Ar({subMenu:e=!1,confirm:t=!0,confirmLabel:n,menuItemClassName:r,menuFooter:o,menuExtras:i,...a}){const{children:u,onClick:c,...l}=a;return t?s(e?Vc:ls,{openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...l,menuButton:e?void 0:u,label:e?u:void 0,children:[s(ke,{className:r,onClick:c,children:n}),i,o]}):e?s(ke,{...a}):c?_a(u,{onClick:c}):u}function eo({staticUrl:e,alt:t,url:n}){return s("picture",{children:[e&&s("source",{srcset:e,media:"(prefers-reduced-motion: reduce)"}),s("img",{src:n,alt:t,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async"},t||n)]})}function jc({text:e,emojis:t}){if(!e)return"";if(!(t!=null&&t.length)||e.indexOf(":")===-1)return e;const n=new RegExp(`:(${t.map(o=>o.shortcode).join("|")}):`,"g");return e.split(n).map(o=>{const i=t.find(a=>a.shortcode===o);if(i){const{url:a,staticUrl:u}=i;return s(eo,{staticUrl:u,alt:o,url:a})}return o})}const Bt=it(jc,(e,t)=>{var n,r;return e.text===t.text&&((n=e.emojis)==null?void 0:n.length)===((r=t.emojis)==null?void 0:r.length)}),Bc=new Intl.Collator("en",{sensitivity:"base"});function Uc({account:e,instance:t,showAvatar:n,showAcct:r,short:o,external:i,onClick:a}){const{acct:u,avatar:c,avatarStatic:l,id:f,url:d,displayName:p,emojis:m,bot:h,username:g}=e,[y,T,_]=u.match(/([^@]+)(@.+)/i)||[,u];t||(t=Xn().instance);const E=g.toLowerCase().trim(),w=(p||"").toLowerCase().trim(),b=w.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,""),M=b.replace(/[^a-z0-9@\.]/gi,""),A=!o&&(E===w||E===b||E===M||Bc.compare(E,b)===0)||M===u.toLowerCase();return s("a",{class:`name-text ${r?"show-acct":""} ${o?"short":""}`,href:d,target:i?"_blank":null,title:p?`${p} (${_?"":"@"}${u})`:`${_?"":"@"}${u}`,onClick:O=>{if(!i&&!O.shiftKey){if(O.preventDefault(),O.stopPropagation(),a)return a(O);if(O.metaKey||O.ctrlKey||O.shiftKey||O.which===2){const P=`#/${t}/a/${f}`;window.open(P,"_blank");return}W.showAccount={account:e,instance:t}}},children:[n&&s(U,{children:[s(nt,{url:l||c,squircle:h})," "]}),p&&!o?s(U,{children:[s("b",{dir:"auto",children:s(Bt,{text:p,emojis:m})}),!r&&!A&&s(U,{children:[" ",s("i",{class:"bidi-isolate",children:["@",g]})]})]}):o?s("i",{children:g}):s("b",{children:g}),r&&s(U,{children:[s("br",{}),s("i",{class:"bidi-isolate",children:[_?"":"@",T,!!_&&s("span",{class:"ib",children:_})]})]})]})}const an=it(Uc,(e,t)=>{const{account:n}=e,{account:r}=t;return(n==null?void 0:n.acct)===(r==null?void 0:r.acct)});var nr={exports:{}},xf=nr.exports;(function(e,t){(function(n,r){e.exports=r()})(bn,function(){"use strict";var n=1e3,r=6e4,o=36e5,i="millisecond",a="second",u="minute",c="hour",l="day",f="week",d="month",p="quarter",m="year",h="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var $=["th","st","nd","rd"],k=D%100;return"["+D+($[(k-20)%10]||$[k]||$[0])+"]"}},E=function(D,$,k){var R=String(D);return!R||R.length>=$?D:""+Array($+1-R.length).join(k)+D},w={s:E,z:function(D){var $=-D.utcOffset(),k=Math.abs($),R=Math.floor(k/60),L=k%60;return($<=0?"+":"-")+E(R,2,"0")+":"+E(L,2,"0")},m:function D($,k){if($.date()<k.date())return-D(k,$);var R=12*(k.year()-$.year())+(k.month()-$.month()),L=$.clone().add(R,d),z=k-L<0,F=$.clone().add(R+(z?-1:1),d);return+(-(R+(k-L)/(z?L-F:F-L))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:d,y:m,w:f,d:l,D:h,h:c,m:u,s:a,ms:i,Q:p}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},b="en",M={};M[b]=_;var A="$isDayjsObject",O=function(D){return D instanceof V||!(!D||!D[A])},P=function D($,k,R){var L;if(!$)return b;if(typeof $=="string"){var z=$.toLowerCase();M[z]&&(L=z),k&&(M[z]=k,L=z);var F=$.split("-");if(!L&&F.length>1)return D(F[0])}else{var C=$.name;M[C]=$,L=C}return!R&&L&&(b=L),L||!R&&b},x=function(D,$){if(O(D))return D.clone();var k=typeof $=="object"?$:{};return k.date=D,k.args=arguments,new V(k)},S=w;S.l=P,S.i=O,S.w=function(D,$){return x(D,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var V=function(){function D(k){this.$L=P(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[A]=!0}var $=D.prototype;return $.parse=function(k){this.$d=function(R){var L=R.date,z=R.utc;if(L===null)return new Date(NaN);if(S.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var F=L.match(y);if(F){var C=F[2]-1||0,K=(F[7]||"0").substring(0,3);return z?new Date(Date.UTC(F[1],C,F[3]||1,F[4]||0,F[5]||0,F[6]||0,K)):new Date(F[1],C,F[3]||1,F[4]||0,F[5]||0,F[6]||0,K)}}return new Date(L)}(k),this.init()},$.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},$.$utils=function(){return S},$.isValid=function(){return this.$d.toString()!==g},$.isSame=function(k,R){var L=x(k);return this.startOf(R)<=L&&L<=this.endOf(R)},$.isAfter=function(k,R){return x(k)<this.startOf(R)},$.isBefore=function(k,R){return this.endOf(R)<x(k)},$.$g=function(k,R,L){return S.u(k)?this[R]:this.set(L,k)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(k,R){var L=this,z=!!S.u(R)||R,F=S.p(k),C=function(ye,ie){var de=S.w(L.$u?Date.UTC(L.$y,ie,ye):new Date(L.$y,ie,ye),L);return z?de:de.endOf(l)},K=function(ye,ie){return S.w(L.toDate()[ye].apply(L.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(ie)),L)},Z=this.$W,ne=this.$M,le=this.$D,Te="set"+(this.$u?"UTC":"");switch(F){case m:return z?C(1,0):C(31,11);case d:return z?C(1,ne):C(0,ne+1);case f:var he=this.$locale().weekStart||0,ve=(Z<he?Z+7:Z)-he;return C(z?le-ve:le+(6-ve),ne);case l:case h:return K(Te+"Hours",0);case c:return K(Te+"Minutes",1);case u:return K(Te+"Seconds",2);case a:return K(Te+"Milliseconds",3);default:return this.clone()}},$.endOf=function(k){return this.startOf(k,!1)},$.$set=function(k,R){var L,z=S.p(k),F="set"+(this.$u?"UTC":""),C=(L={},L[l]=F+"Date",L[h]=F+"Date",L[d]=F+"Month",L[m]=F+"FullYear",L[c]=F+"Hours",L[u]=F+"Minutes",L[a]=F+"Seconds",L[i]=F+"Milliseconds",L)[z],K=z===l?this.$D+(R-this.$W):R;if(z===d||z===m){var Z=this.clone().set(h,1);Z.$d[C](K),Z.init(),this.$d=Z.set(h,Math.min(this.$D,Z.daysInMonth())).$d}else C&&this.$d[C](K);return this.init(),this},$.set=function(k,R){return this.clone().$set(k,R)},$.get=function(k){return this[S.p(k)]()},$.add=function(k,R){var L,z=this;k=Number(k);var F=S.p(R),C=function(ne){var le=x(z);return S.w(le.date(le.date()+Math.round(ne*k)),z)};if(F===d)return this.set(d,this.$M+k);if(F===m)return this.set(m,this.$y+k);if(F===l)return C(1);if(F===f)return C(7);var K=(L={},L[u]=r,L[c]=o,L[a]=n,L)[F]||1,Z=this.$d.getTime()+k*K;return S.w(Z,this)},$.subtract=function(k,R){return this.add(-1*k,R)},$.format=function(k){var R=this,L=this.$locale();if(!this.isValid())return L.invalidDate||g;var z=k||"YYYY-MM-DDTHH:mm:ssZ",F=S.z(this),C=this.$H,K=this.$m,Z=this.$M,ne=L.weekdays,le=L.months,Te=L.meridiem,he=function(ie,de,q,oe){return ie&&(ie[de]||ie(R,z))||q[de].slice(0,oe)},ve=function(ie){return S.s(C%12||12,ie,"0")},ye=Te||function(ie,de,q){var oe=ie<12?"AM":"PM";return q?oe.toLowerCase():oe};return z.replace(T,function(ie,de){return de||function(q){switch(q){case"YY":return String(R.$y).slice(-2);case"YYYY":return S.s(R.$y,4,"0");case"M":return Z+1;case"MM":return S.s(Z+1,2,"0");case"MMM":return he(L.monthsShort,Z,le,3);case"MMMM":return he(le,Z);case"D":return R.$D;case"DD":return S.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return he(L.weekdaysMin,R.$W,ne,2);case"ddd":return he(L.weekdaysShort,R.$W,ne,3);case"dddd":return ne[R.$W];case"H":return String(C);case"HH":return S.s(C,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return ye(C,K,!0);case"A":return ye(C,K,!1);case"m":return String(K);case"mm":return S.s(K,2,"0");case"s":return String(R.$s);case"ss":return S.s(R.$s,2,"0");case"SSS":return S.s(R.$ms,3,"0");case"Z":return F}return null}(ie)||F.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(k,R,L){var z,F=this,C=S.p(R),K=x(k),Z=(K.utcOffset()-this.utcOffset())*r,ne=this-K,le=function(){return S.m(F,K)};switch(C){case m:z=le()/12;break;case d:z=le();break;case p:z=le()/3;break;case f:z=(ne-Z)/6048e5;break;case l:z=(ne-Z)/864e5;break;case c:z=ne/o;break;case u:z=ne/r;break;case a:z=ne/n;break;default:z=ne}return L?z:S.a(z)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return M[this.$L]},$.locale=function(k,R){if(!k)return this.$L;var L=this.clone(),z=P(k,R,!0);return z&&(L.$L=z),L},$.clone=function(){return S.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},D}(),B=V.prototype;return x.prototype=B,[["$ms",i],["$s",a],["$m",u],["$H",c],["$W",l],["$M",d],["$y",m],["$D",h]].forEach(function(D){B[D[1]]=function($){return this.$g($,D[0],D[1])}}),x.extend=function(D,$){return D.$i||(D($,V,x),D.$i=!0),x},x.locale=P,x.isDayjs=O,x.unix=function(D){return x(1e3*D)},x.en=M[b],x.Ls=M,x.p={},x})})(nr,nr.exports);var Wc=nr.exports;const xt=St(Wc);var rr={exports:{}},Mf=rr.exports;(function(e,t){(function(n,r){e.exports=r()})(bn,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,u){o.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:u})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,a){if(1&a&&(i=o(i)),8&a||4&a&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),2&a&&typeof i!="string")for(var c in i)o.d(u,c,(function(l){return i[l]}).bind(null,c));return u},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=1)}([function(n,r,o){var i,a=(function(){var u={ns:1e-6,us:.001,µs:.001,μs:.001,ms:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5},c=function(l){if(l instanceof c)return l;switch(typeof l){case"number":if(!isFinite(l))throw new Error("invalid duration: "+l);this._milliseconds=l;break;case"string":this._milliseconds=c.parse(l).valueOf();break;case"undefined":this._milliseconds=0;break;default:throw new Error("invalid duration: "+l)}};return c.millisecond=new c(1),c.second=new c(1e3),c.minute=new c(6e4),c.hour=new c(36e5),c.day=new c(864e5),c.week=new c(6048e5),c.prototype.nanoseconds=function(){return Math.floor(this._milliseconds/1e-6)},c.prototype.microseconds=function(){return Math.floor(this._milliseconds/.001)},c.prototype.milliseconds=function(){return this._milliseconds},c.prototype.seconds=function(){return Math.floor(this._milliseconds/1e3)},c.prototype.minutes=function(){return Math.floor(this._milliseconds/6e4)},c.prototype.hours=function(){return Math.floor(this._milliseconds/36e5)},c.prototype.days=function(){return Math.floor(this._milliseconds/864e5)},c.prototype.weeks=function(){return Math.floor(this._milliseconds/6048e5)},c.prototype.toString=function(){var l="",f=Math.abs(this._milliseconds),d=this._milliseconds<0?"-":"";if(f===0)return"0";var p=Math.floor(f/36e5);p!==0&&(f-=36e5*p,l+=p.toString()+"h");var m=Math.floor(f/6e4);m!==0&&(f-=6e4*m,l+=m.toString()+"m");var h=Math.floor(f/1e3);return h!==0&&(f-=1e3*h,l+=h.toString()+"s"),f!==0&&(l+=f.toString()+"ms"),d+l},c.prototype.valueOf=function(){return this._milliseconds},c.parse=function(l){if(l==="0"||l==="+0"||l==="-0")return new c(0);for(var f,d,p,m=/([\-\+\d\.]+)([a-zµμ]+)/g,h=0,g=0,y=l[0]==="-"?-1:1;p=m.exec(l);){if(f=p[2],d=Math.abs(parseFloat(p[1])),g++,isNaN(d))throw new Error("invalid duration");if(u[f]===void 0)throw new Error("invalid unit: "+f);h+=d*u[f]}if(g===0)throw new Error("invalid duration");return new c(Math.floor(h)*y)},c.prototype.roundTo=function(l){var f=new c(l).valueOf();this._milliseconds=f*Math.round(this._milliseconds/f)},c.prototype.isGreaterThan=function(l){return this.valueOf()>new c(l).valueOf()},c.prototype.isLessThan=function(l){return this.valueOf()<new c(l).valueOf()},c.prototype.isEqualTo=function(l){return this.valueOf()===new c(l).valueOf()},c.prototype.after=function(l){return new Date(l.valueOf()+this._milliseconds)},c.since=function(l){return new c(new Date().valueOf()-l.valueOf())},c.until=function(l){return new c(l.valueOf()-new Date().valueOf())},c.fromMicroseconds=function(l){var f=Math.floor(l/1e3);return new c(f)},c.fromNanoseconds=function(l){var f=Math.floor(l/1e6);return new c(f)},c.between=function(l,f){return new c(f.valueOf()-l.valueOf())},c.add=function(l,f){return new c(l+f)},c.subtract=function(l,f){return new c(l-f)},c.multiply=function(l,f){return new c(l*f)},c.divide=function(l,f){return l/f},c}).call(this);(i=(function(){return a}).apply(r,[]))===void 0||(n.exports=i)},function(n,r,o){"use strict";o.r(r);var i=o(0),a=o.n(i),u={en:{now:"Now",seconds:"%ds",minutes:"%dm",hours:"%dh",days:"MMM D",years:"MMM D, YYYY"},es:{now:"Ahora",seconds:"%ds",minutes:"%dmin",hours:"%dh",days:"D MMM.",years:"D MMM. YYYY"},ru:{now:"1 с",seconds:"%d с",minutes:"%d мин",hours:"%d ч",days:"D MMM.",years:"D MMM. YYYY"},fr:{now:"Μaintenant",seconds:"%ds",minutes:"%dm",hours:"%dh",days:"MMM D",years:"MMM D, YYYY"},el:{now:"Τώρα",seconds:"%dδ",minutes:"%dλ",hours:"%dω",days:"MMM D",years:"MMM D, YYYY"}};r.default=function(c,l,f){l.prototype.twitter=function(){return function(d){var p=d.$locale(),m=p?p.name:"en",h=Math.abs(d.diff(new Date)),g=null,y=null;if(g=h<=1e3?"now":h<6e4?"seconds":h<36e5?"minutes":h<864e5?"hours":h<31536e6?"days":"years",y&&g||!(["seconds","minutes","hours"].indexOf(g)>-1)||(y=new a.a(h)[g]()),g==="days"||g==="years"){var T=u[m][g];return d.format(T)}return u[m][g].replace("%d",y)}(this)}}}])})})(rr,rr.exports);var Kc=rr.exports;const Zc=St(Kc);var or={exports:{}},Sf=or.exports;(function(e,t){(function(n,r){e.exports=r()})(bn,function(){"use strict";var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,i){var a=o.prototype,u=a.format;i.en.formats=n,a.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,f=function(d,p){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,h,g){var y=g&&g.toUpperCase();return h||p[g]||n[g]||p[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,_,E){return _||E.slice(1)})})}(c,l===void 0?{}:l);return u.call(this,f)}}})})(or,or.exports);var Yc=or.exports;const qc=St(Yc);var ir={exports:{}},kf=ir.exports;(function(e,t){(function(n,r){e.exports=r()})(bn,function(){"use strict";return function(n,r,o){n=n||{};var i=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(l,f,d,p){return i.fromToBase(l,f,d,p)}o.en.relativeTime=a,i.fromToBase=function(l,f,d,p,m){for(var h,g,y,T=d.$locale().relativeTime||a,_=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=_.length,w=0;w<E;w+=1){var b=_[w];b.d&&(h=p?o(l).diff(d,b.d,!0):d.diff(l,b.d,!0));var M=(n.rounding||Math.round)(Math.abs(h));if(y=h>0,M<=b.r||!b.r){M<=1&&w>0&&(b=_[w-1]);var A=T[b.l];m&&(M=m(""+M)),g=typeof A=="string"?A.replace("%d",M):A(M,f,b.l,y);break}}if(f)return g;var O=y?T.future:T.past;return typeof O=="function"?O(g):O.replace("%s",g)},i.to=function(l,f){return u(l,f,this,!0)},i.from=function(l,f){return u(l,f,this)};var c=function(l){return l.$u?o.utc():o()};i.toNow=function(l){return this.to(c(this),l)},i.fromNow=function(l){return this.from(c(this),l)}}})})(ir,ir.exports);var Gc=ir.exports;const Xc=St(Gc);xt.extend(Zc);xt.extend(qc);xt.extend(Xc);const Jc=new Intl.DateTimeFormat;function Mt({datetime:e,format:t}){if(!e)return null;const[n,r]=Di(c=>c+1,0),o=fe(()=>xt(e),[e]),[i,a,u]=fe(()=>{if(!o.isValid())return[""+e,"",""];let c;if(t==="micro"){const l=xt();l.diff(o,"day")<=1||l.year()===o.year()?c=o.twitter():c=Jc.format(o.toDate())}return c||(c=o.fromNow()),[c,o.toISOString(),o.format("LLLL")]},[o,t,n]);return se(()=>{if(!o.isValid())return;let c,l;function f(){l=requestAnimationFrame(()=>{r(),d()})}function d(){o.diff(xt(),"minute",!0)<1?c=setTimeout(f,1e4):o.diff(xt(),"hour",!0)<1&&(c=setTimeout(f,6e4))}return d(),()=>{clearTimeout(c),cancelAnimationFrame(l)}},[]),s("time",{datetime:a,title:u,children:i})}const Qc=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function el(...e){try{return Ia(...e)}catch{return e[2]||!1}}const to=st(el),tl=[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],nl=to(tl,Qc.map(e=>e.code.replace("_","-")),"en");function us(e=!1){if(e){const{contentTranslationTargetLanguage:t}=W.settings;if(t)return t}return nl}const rl=new Intl.DisplayNames(void 0,{type:"language"});function ol(e){try{return rl.of(e)}catch{return null}}const Ir=st(ol),il=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,sr=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(il);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},ri=e=>e==="*"||e==="x"||e==="X",oi=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},sl=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],al=(e,t)=>{if(ri(e)||ri(t))return 0;const[n,r]=sl(oi(e),oi(t));return n>r?1:n<r?-1:0},Ft=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const r=al(e[n]||"0",t[n]||"0");if(r!==0)return r}return 0},cl=(e,t)=>{const n=sr(e),r=sr(t),o=n.pop(),i=r.pop(),a=Ft(n,r);return a!==0?a:o&&i?Ft(o.split("."),i.split(".")):o||i?o?-1:1:0},ll=(e,t,n)=>{ul(n);const r=cl(e,t);return ds[n].includes(r)},ds={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},ii=Object.keys(ds),ul=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(ii.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${ii.join("|")}`)},Zn=(e,t)=>{if(t=t.replace(/([><=]+)\s+/g,"$1"),t.includes("||"))return t.split("||").some(y=>Zn(e,y));if(t.includes(" - ")){const[y,T]=t.split(" - ",2);return Zn(e,`>=${y} <=${T}`)}else if(t.includes(" "))return t.trim().replace(/\s{2,}/g," ").split(" ").every(y=>Zn(e,y));const n=t.match(/^([<>=~^]+)/),r=n?n[1]:"=";if(r!=="^"&&r!=="~")return ll(e,t,r);const[o,i,a,,u]=sr(e),[c,l,f,,d]=sr(t),p=[o,i,a],m=[c,l??"x",f??"x"];if(d&&(!u||Ft(p,m)!==0||Ft(u.split("."),d.split("."))===-1))return!1;const h=m.findIndex(y=>y!=="0")+1,g=r==="~"?2:h>1?h:1;return!(Ft(p.slice(0,g),m.slice(0,g))!==0||Ft(p.slice(g),m.slice(g))===-1)};const dl={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2","@mastodon/filtered-notifications":"~4.3 || >=4.3","@mastodon/fetch-multiple-statuses":"~4.3 || >=4.3","@mastodon/trending-link-posts":"~4.3 || >=4.3","@mastodon/grouped-notifications":"~4.3 || >=4.3"},$r=/pixelfed/i,et=/^(?!.*pixelfed).*$/i,si={"@mastodon/lists":et,"@mastodon/filters":et,"@mastodon/mentions":et,"@mastodon/trending-hashtags":et,"@mastodon/trending-links":et,"@mastodon/post-bookmark":et,"@mastodon/post-edit":et,"@mastodon/profile-edit":et,"@mastodon/profile-private-note":et,"@pixelfed/trending":$r,"@pixelfed/home-include-reblogs":$r,"@pixelfed/global-feed":$r},Nn={};function Fn(e){try{const{version:t,domain:n}=ba(),r=`${n}-${e}`;if(Nn[r])return Nn[r];if(si[e])return Nn[r]=si[e].test(t);const o=dl[e];return o?Nn[r]=Zn(t,o,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}const Vt=2147483647,Ye=36,Eo=1,vn=26,fl=38,hl=700,fs=72,hs=128,ps="-",pl=/^xn--/,ml=/[^\0-\x7F]/,gl=/[\x2E\u3002\uFF0E\uFF61]/g,vl={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Lr=Ye-Eo,qe=Math.floor,Cr=String.fromCharCode;function ft(e){throw new RangeError(vl[e])}function yl(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function ms(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(gl,".");const o=e.split("."),i=yl(o,t).join(".");return r+i}function gs(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const _l=e=>String.fromCodePoint(...e),bl=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ye},ai=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},vs=function(e,t,n){let r=0;for(e=n?qe(e/hl):e>>1,e+=qe(e/t);e>Lr*vn>>1;r+=Ye)e=qe(e/Lr);return qe(r+(Lr+1)*e/(e+fl))},ys=function(e){const t=[],n=e.length;let r=0,o=hs,i=fs,a=e.lastIndexOf(ps);a<0&&(a=0);for(let u=0;u<a;++u)e.charCodeAt(u)>=128&&ft("not-basic"),t.push(e.charCodeAt(u));for(let u=a>0?a+1:0;u<n;){const c=r;for(let f=1,d=Ye;;d+=Ye){u>=n&&ft("invalid-input");const p=bl(e.charCodeAt(u++));p>=Ye&&ft("invalid-input"),p>qe((Vt-r)/f)&&ft("overflow"),r+=p*f;const m=d<=i?Eo:d>=i+vn?vn:d-i;if(p<m)break;const h=Ye-m;f>qe(Vt/h)&&ft("overflow"),f*=h}const l=t.length+1;i=vs(r-c,l,c==0),qe(r/l)>Vt-o&&ft("overflow"),o+=qe(r/l),r%=l,t.splice(r++,0,o)}return String.fromCodePoint(...t)},_s=function(e){const t=[];e=gs(e);const n=e.length;let r=hs,o=0,i=fs;for(const c of e)c<128&&t.push(Cr(c));const a=t.length;let u=a;for(a&&t.push(ps);u<n;){let c=Vt;for(const f of e)f>=r&&f<c&&(c=f);const l=u+1;c-r>qe((Vt-o)/l)&&ft("overflow"),o+=(c-r)*l,r=c;for(const f of e)if(f<r&&++o>Vt&&ft("overflow"),f===r){let d=o;for(let p=Ye;;p+=Ye){const m=p<=i?Eo:p>=i+vn?vn:p-i;if(d<m)break;const h=d-m,g=Ye-m;t.push(Cr(ai(m+h%g,0))),d=qe(h/g)}t.push(Cr(ai(d,0))),i=vs(o,l,u===a),o=0,++u}++o,++r}return t.join("")},wl=function(e){return ms(e,function(t){return pl.test(t)?ys(t.slice(4).toLowerCase()):t})},Tl=function(e){return ms(e,function(t){return ml.test(t)?"xn--"+_s(t):t})},bs={version:"2.3.1",ucs2:{decode:gs,encode:_l},decode:ys,encode:_s,toASCII:Tl,toUnicode:wl};function ar(e,t=[]){return e?(!t.length||e.indexOf(":")===-1||t.forEach(n=>{const{shortcode:r,staticUrl:o,url:i}=n;e=e.replace(new RegExp(`:${r}:`,"g"),`<picture><source srcset="${o}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${i}" alt=":${r}:" width="16" height="16" loading="lazy" decoding="async" /></picture>`)}),e):""}const Pt=document.createElement("div"),El=["u-url","mention","hashtag"];function xl(e,t={}){const{emojis:n,postEnhanceDOM:r=()=>{}}=t;let o=e;const i=document.createElement("div");i.innerHTML=o;const a=/<a/i.test(o),u=o.includes("```");if(a&&(i.querySelectorAll('a:not([target="_blank"])').forEach(d=>{d.setAttribute("target","_blank")}),i.querySelectorAll("a[class]").forEach(d=>{d.classList.forEach(p=>{El.includes(p)||d.classList.remove(p)})})),a&&i.querySelectorAll("a[href]").forEach(f=>{/^https?:\/\//i.test(f.textContent.trim())&&(f.classList.add("has-url-text"),Al(f))}),a){const l=i.querySelectorAll("a[href]"),f=[];l.forEach(d=>{const p=d.innerText.trim(),m=d.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(p)){const[h,g,y]=p.split("@");m||(!f.some(([T])=>T===g)||f.some(([T,_])=>T===g&&_===y)?(d.innerHTML=`@<span>${g}</span>`,f.push([g,y])):d.innerHTML=`@<span>${g}@${y}</span>`),d.classList.add("mention")}/^#[^#]+$/g.test(p)&&(m||(d.innerHTML=`#<span>${p.slice(1)}</span>`),d.classList.add("mention","hashtag"))})}let c;if(o.includes(":")&&(c=Or(i),c.forEach(l=>{let f=l.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");n&&(f=ar(f,n)),Pt.innerHTML=f,l.replaceWith(...Pt.childNodes)})),u&&[...i.querySelectorAll("p")].filter(f=>/^```[^]+```$/g.test(f.innerText.trim())).forEach(f=>{const d=document.createElement("pre");f.querySelectorAll("br").forEach(p=>p.replaceWith(`
`)),d.innerHTML=`<code>${f.innerHTML.trim()}</code>`,f.replaceWith(d)}),u&&[...i.querySelectorAll("p")].filter(d=>/^```/g.test(d.innerText)).forEach(d=>{const p=[d];let m=!1,h=d;for(;h.nextElementSibling;){const g=h.nextElementSibling;if(g&&g.tagName==="P")if(/```$/g.test(g.innerText)){p.push(g),m=!0;break}else p.push(g);else break;h=g}if(m){const g=document.createElement("pre");p.forEach(T=>{T.querySelectorAll("br").forEach(_=>_.replaceWith(`
`))});const y=p.map(T=>T.innerHTML).join(`

`);g.innerHTML=`<code tabindex="0">${y}</code>`,d.replaceWith(g),p.forEach(T=>T.remove())}}),o.includes("`")&&(c=Or(i),c.forEach(l=>{let f=l.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(f)&&(f=f.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),Pt.innerHTML=f,l.replaceWith(...Pt.childNodes)})),/twitter\.com/i.test(o)&&(c=Or(i,{rejectFilter:["A"]}),c.forEach(l=>{let f=l.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(f)&&(f=f.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),Pt.innerHTML=f,l.replaceWith(...Pt.childNodes)})),o.includes("#")){let l=null;const f=[...i.querySelectorAll("p")].filter((d,p)=>{let m=0;for(let h=0;h<d.childNodes.length;h++){const g=d.childNodes[h];if(g.nodeType===Node.TEXT_NODE){if(g.textContent.trim()!=="")return!1}else if(g.tagName!=="BR")if(g.tagName==="A"){const y=g.textContent.trim();if(!y||!y.startsWith("#"))return!1;m++}else return!1}if(m>3||m>1&&l&&p===l+1)return l=p,!0});f!=null&&f.length&&f.forEach(d=>{d.classList.add("hashtag-stuffing"),d.title=d.innerText})}return o.includes("<img")&&i.querySelectorAll("img").forEach(l=>{const f=l.getAttribute("width")||l.naturalWidth,d=l.getAttribute("height")||l.naturalHeight;f&&d&&l.style.setProperty("--original-aspect-ratio",`${f}/${d}`)}),r&&queueMicrotask(()=>r(i)),o=i.innerHTML,o}const ws=st(xl),Ml=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Sl=Object.fromEntries(Ml.map(e=>[e,!0])),kl=/^(https?:\/\/(www\.)?|xmpp:)/,Pr=30;function Al(e){var t;if(!(!e||(t=e.querySelector)!=null&&t.call(e,"*")))try{const n=e.innerText.trim(),r=(n.match(kl)||[])[0]||"";if(!r)return;const o=n.slice(r.length,r.length+Pr),i=n.slice(r.length+Pr),a=n.slice(r.length).length>Pr;e.innerHTML=`<span class="invisible">${r}</span><span class=${a?"ellipsis":""}>${o}</span><span class="invisible">${i}</span>`}catch{}}function Or(e,t={}){var a;const n=[],r=Object.assign({},Sl,(a=t.rejectFilter)==null?void 0:a.reduce((u,c)=>(u[c]=!0,u),{})),o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode(u){return r[u.parentNode.nodeName]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let i;for(;i=o.nextNode();)n.push(i);return n}const Ot=document.createElement("div");function Il(e,t){if(!e)return"";const{preProcess:n}=t||{};return Ot.innerHTML=e.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Ot.querySelectorAll("br").forEach(r=>{r.replaceWith(`
`)}),n==null||n(Ot),Ot.querySelectorAll(".invisible").forEach(r=>{r.remove()}),Ot.querySelectorAll(".ellipsis").forEach(r=>{r.append("...")}),Ot.innerText.replace(/[\r\n]{3,}/g,`

`).trim()}const cr=st(Il);function $l(e){const{mentions:t=[],instance:n,previewMode:r,statusURL:o}=e||{};return i=>{var f,d;let{target:a}=i;if(a=a.closest("a"),!a||i.metaKey||i.ctrlKey||i.shiftKey||i.altKey||i.which===2)return;const u=(f=a.previousSibling)==null?void 0:f.textContent,c=u==null?void 0:u.endsWith("@"),l=a.innerText.startsWith("@");if((a.classList.contains("u-url")||a.classList.contains("mention"))&&l||c&&!l){const p=(a.querySelector("span")||a).innerText.trim(),m=p.replace(/^@/,""),h=a.getAttribute("href"),g=t.find(y=>y.url===h)||t.find(y=>y.acct===m||y.username===m);if(g)i.preventDefault(),i.stopPropagation(),W.showAccount={account:g.acct,instance:n};else if(!/^http/i.test(p)){i.preventDefault(),i.stopPropagation();const y=a.getAttribute("href");W.showAccount={account:y,instance:n}}}else if(!r){const p=u==null?void 0:u.endsWith("#");if(a.classList.contains("hashtag")||p){i.preventDefault(),i.stopPropagation();const m=a.innerText.replace(/^#/,"").trim(),h=n?`#/${n}/t/${m}`:`#/t/${m}`;location.hash=h}else(d=W.unfurledLinks[a.href])!=null&&d.url&&o!==a.href&&(i.preventDefault(),i.stopPropagation(),W.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${W.unfurledLinks[a.href].url}`)}}}const{locale:Ll}=new Intl.DateTimeFormat().resolvedOptions(),Cl=e=>{const{dateYear:t,hideTime:n,formatOpts:r}=e||{},o=new Date().getFullYear();return Intl.DateTimeFormat(Ll,{year:t===o?void 0:"numeric",month:"short",day:"numeric",hour:n?void 0:"numeric",minute:n?void 0:"numeric",...r})},Pl=st(Cl);function yn(e,t){return e instanceof Date||(e=new Date(e)),Pl({dateYear:e.getFullYear(),...t}).format(e)}const{locale:Ol}=Intl.NumberFormat().resolvedOptions(),mt=Intl.NumberFormat(Ol,{notation:"compact",roundingMode:"floor"}).format,ci=5e3;function zn(e){if(e||(e=!0),W.showCompose){W.composerState.minimized?$e({duration:ci,text:"A draft post is currently minimized. Post or discard it before creating a new one."}):$e({duration:ci,text:"A post is currently open. Post or discard it before creating a new one."});return}Ya(),W.showCompose=e}function Af({skeleton:e,account:t,avatarSize:n="xl",useAvatarStatic:r=!1,instance:o,external:i,internal:a,onClick:u,showActivity:c=!1,showStats:l=!1,accountInstance:f,hideDisplayName:d=!1,relationship:p={},excludeRelationshipAttrs:m=[]}){if(e)return s("div",{class:"account-block skeleton",children:[s(nt,{size:n}),s("span",{children:[s("b",{children:"████████"}),s("br",{}),s("span",{class:"account-block-acct",children:"██████"})]})]});if(!t)return null;const{id:h,acct:g,avatar:y,avatarStatic:T,displayName:_,username:E,emojis:w,url:b,statusesCount:M,lastStatusAt:A,bot:O,fields:P,note:x,group:S,followersCount:V,createdAt:B,locked:D}=t;let[$,k,R]=g.match(/([^@]+)(@.+)/i)||[,g];f&&(R=`@${f}`);const L=P==null?void 0:P.find(C=>!!C.verifiedAt&&!!C.value),z={};for(const C in p)m.includes(C)||(z[C]=p[C]);const F=z.following||z.followedBy||z.requested;return s("a",{class:"account-block",href:b,target:i?"_blank":null,title:R?g:`@${g}`,onClick:C=>{if(!i){if(C.preventDefault(),u)return u(C);a?location.hash=`/${o}/a/${h}`:W.showAccount={account:t,instance:o}}},children:[s(nt,{url:r?T:y||T,size:n,squircle:O}),s("span",{class:"account-block-content",children:[!d&&s(U,{children:_?s("b",{children:s(Bt,{text:_,emojis:w})}):s("b",{children:E})})," ",s("span",{class:"account-block-acct bidi-isolate",children:[R?"":"@",k,s("wbr",{}),R,D&&s(U,{children:[" ",s(H,{icon:"lock",size:"s",alt:"Locked"})]})]}),c&&s("div",{class:"account-block-stats",children:["Posts: ",mt(M),!!A&&s(U,{children:[" ","· Last posted:"," ",yn(A,{hideTime:!0})]})]}),l&&s("div",{class:"account-block-stats",children:[O&&s(U,{children:s("span",{class:"tag collapsed",children:[s(H,{icon:"bot"})," Automated"]})}),!!S&&s(U,{children:s("span",{class:"tag collapsed",children:[s(H,{icon:"group"})," Group"]})}),F&&s("div",{class:"shazam-container-horizontal",children:s("div",{class:"shazam-container-inner",children:z.following&&z.followedBy?s("span",{class:"tag minimal",children:"Mutual"}):z.requested?s("span",{class:"tag minimal",children:"Requested"}):z.following?s("span",{class:"tag minimal",children:"Following"}):z.followedBy?s("span",{class:"tag minimal",children:"Follows you"}):null})},p.id),!!V&&s("span",{class:"ib",children:[mt(V)," ",V===1?"follower":"followers"]}),!!L&&s("span",{class:"verified-field",children:[s(H,{icon:"check-circle",size:"s"})," ",s("span",{dangerouslySetInnerHTML:{__html:ws(L.value,{emojis:w})}})]}),!O&&!S&&!F&&!V&&!L&&!!B&&s("span",{class:"created-at",children:["Joined"," ",s("time",{datetime:B,children:yn(B,{hideTime:!0})})]})]})]})]})}function li(e){const{className:t,disabled:n,...r}=e;return s(Dc,{className:t,disabled:n,children:({ref:o,closeMenu:i})=>s(jt,{...r,ref:o,onClick:({detail:a})=>i(a===0?"Enter":void 0)})})}var Ts={};function We(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Dl=We;We.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};We.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};We.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};We.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};We.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};We.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};We.prototype.start=We.prototype.try;We.prototype.errors=function(){return this._errors};We.prototype.attempts=function(){return this._attempts};We.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=n&&(t=o,n=a)}return t};(function(e){var t=Dl;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in n)r[o]=n[o];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],a=0;a<r.retries;a++)i.push(this.createTimeout(a,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(a,r)),i.sort(function(u,c){return u-c}),i},e.createTimeout=function(n,r){var o=r.randomize?Math.random()+1:1,i=Math.round(o*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},e.wrap=function(n,r,o){if(r instanceof Array&&(o=r,r=null),!o){o=[];for(var i in n)typeof n[i]=="function"&&o.push(i)}for(var a=0;a<o.length;a++){var u=o[a],c=n[u];n[u]=(function(f){var d=e.operation(r),p=Array.prototype.slice.call(arguments,1),m=p.pop();p.push(function(h){d.retry(h)||(h&&(arguments[0]=d.mainError()),m.apply(this,arguments))}),d.attempt(function(){f.apply(n,p)})}).bind(n,c),n[u].options=r}}})(Ts);var Rl=Ts;const Nl=St(Rl),Fl=Object.prototype.toString,zl=e=>Fl.call(e)==="[object Error]",Hl=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed"]);function Vl(e){return e&&zl(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Hl.has(e.message):!1}class jl extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const ui=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function Bl(e,t){return new Promise((n,r)=>{t={onFailedAttempt(){},retries:10,shouldRetry:()=>!0,...t};const o=Nl.operation(t),i=()=>{var u;o.stop(),r((u=t.signal)==null?void 0:u.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",i,{once:!0});const a=()=>{var u;(u=t.signal)==null||u.removeEventListener("abort",i),o.stop()};o.attempt(async u=>{try{const c=await e(u);a(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof jl)throw c.originalError;if(c instanceof TypeError&&!Vl(c))throw c;if(ui(c,u,t),await t.shouldRetry(c)||(o.stop(),r(c)),await t.onFailedAttempt(c),!o.retry(c))throw o.mainError()}catch(l){ui(l,u,t),a(),r(l)}}})})}const Ul=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];var Wl=Object.defineProperty,Kl=(e,t,n)=>t in e?Wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t,n)=>Kl(e,typeof t!="symbol"?t+"":t,n),no=new Map,Vn=new WeakMap,di=0,Zl=void 0;function Yl(e){return e?(Vn.has(e)||(di+=1,Vn.set(e,di.toString())),Vn.get(e)):"0"}function ql(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Yl(e.root):e[t]}`).toString()}function Gl(e){const t=ql(e);let n=no.get(t);if(!n){const r=new Map;let o;const i=new IntersectionObserver(a=>{a.forEach(u=>{var c;const l=u.isIntersecting&&o.some(f=>u.intersectionRatio>=f);e.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=l),(c=r.get(u.target))==null||c.forEach(f=>{f(l,u)})})},e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},no.set(t,n)}return n}function Es(e,t,n={},r=Zl){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:o,observer:i,elements:a}=Gl(n),u=a.get(e)||[];return a.has(e)||a.set(e,u),u.push(t),i.observe(e),function(){u.splice(u.indexOf(t),1),u.length===0&&(a.delete(e),i.unobserve(e)),a.size===0&&(i.disconnect(),no.delete(o))}}function Xl(e){return typeof e.children!="function"}var If=class extends Fi{constructor(e){super(e),Hn(this,"node",null),Hn(this,"_unobserveCb",null),Hn(this,"handleNode",t=>{this.node&&(this.unobserve(),!t&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=t||null,this.observeNode()}),Hn(this,"handleChange",(t,n)=>{t&&this.props.triggerOnce&&this.unobserve(),Xl(this.props)||this.setState({inView:t,entry:n}),this.props.onChange&&this.props.onChange(t,n)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:o,fallbackInView:i}=this.props;this._unobserveCb=Es(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:o},i)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if(typeof e=="function"){const{inView:m,entry:h}=this.state;return e({inView:m,entry:h,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:r,root:o,rootMargin:i,onChange:a,skip:u,trackVisibility:c,delay:l,initialInView:f,fallbackInView:d,...p}=this.props;return wa(t||"div",{ref:this.handleNode,...p},e)}};function Jl({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:i,skip:a,initialInView:u,fallbackInView:c,onChange:l}={}){var f;const[d,p]=te(null),m=j(),[h,g]=te({inView:!!u,entry:void 0});m.current=l,se(()=>{if(a||!d)return;let E;return E=Es(d,(w,b)=>{g({inView:w,entry:b}),m.current&&m.current(w,b),b.isIntersecting&&i&&E&&(E(),E=void 0)},{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{E&&E()}},[Array.isArray(e)?e.toString():e,d,o,r,i,a,n,c,t]);const y=(f=h.entry)==null?void 0:f.target,T=j();!d&&y&&!i&&!a&&T.current!==y&&(T.current=y,g({inView:!!u,entry:void 0}));const _=[p,h.inView,h.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const fi=48,Dr={};function xs({id:e,children:t}){const n=j(),r=!!Dr[e],[o,i]=te(!1),[a,u]=te(r||!1),{ref:c}=Jl({root:null,rootMargin:`-${fi}px 0px 0px 0px`,trackVisibility:!0,delay:1e3,onChange:l=>{l&&(i(!0),e&&(Dr[e]=!0))},triggerOnce:!0,skip:a||o});return se(()=>{if(!n.current)return;const l=n.current.getBoundingClientRect();l.bottom>fi&&(l.top<window.innerHeight?i(!0):u(!0),e&&(Dr[e]=!0))},[]),a?t:s("div",{ref:n,class:"shazam-container no-animation",hidden:!o,children:s("div",{ref:c,class:"shazam-container-inner",children:t})})}var Ql={BASE_URL:"./",DEV:!1,MODE:"production",PHANPY_CLIENT_NAME:"Adneydon",PHANPY_DEFAULT_INSTANCE:"adney.land",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://github.com/cheeaun/phanpy/blob/main/PRIVACY.MD",PHANPY_WEBSITE:"https://app.adney.land",PROD:!0,SSR:!1,VITE_APP_ENV:"production"};const{PHANPY_LINGVA_INSTANCES:hi}=Ql,fn=hi?hi.split(/\s+/):[],eu=zi({limit:1,interval:2e3});let Rr=0;function tu(e,t,n){return Bl(()=>{let o=fn[Rr];return fetch(`https://${o}/api/v1/${t}/${n}/${encodeURIComponent(e)}`).then(i=>{if(!i.ok)throw new Error(i.statusText);return i.json()}).then(i=>{var a;return{provider:"lingva",content:i.translation,detectedSourceLanguage:(a=i.info)==null?void 0:a.detectedSource,info:i.info}})},{retries:3,onFailedAttempt:o=>{Rr=(Rr+1)%fn.length}})}const Ms=1e3*60*60,Ss=fo(tu,{maxAge:Ms}),nu=fo(eu(Ss),{maxAge:Ms});function ru({forceTranslate:e,sourceLanguage:t,onTranslate:n,text:r="",mini:o,autoDetected:i}){const a=us(!0),[u,c]=te("default"),[l,f]=te(null),[d,p]=te(null),[m,h]=te(null),g=j(),y=t?Ir(t):null,T=Ir(a),_=j("auto");n||(n=o?nu:Ss);const E=async()=>{var w,b;c("loading");try{const{content:M,detectedSourceLanguage:A,provider:O,error:P,...x}=await n(r,_.current,a);if(M){if(A){const S=Ir(A);h(S)}if(O==="lingva"){const S=(b=(w=x==null?void 0:x.info)==null?void 0:w.pronunciation)==null?void 0:b.query;S&&f(S)}p(M),c("default"),!o&&M.trim()!==r.trim()&&(g.current.open=!0,g.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else c("error")}catch{c("error")}};return se(()=>{e&&E()},[e]),o?d&&d.trim()!==r.trim()&&m!==T?s(xs,{children:s("div",{class:"status-translation-block-mini",children:[s(H,{icon:"translate",alt:`Auto-translated from ${y}`}),s("output",{lang:a,dir:"auto",title:l||"",children:d})]})}):null:s("div",{class:"status-translation-block",onClick:w=>{w.preventDefault()},children:s("details",{ref:g,children:[s("summary",{children:s("button",{type:"button",onClick:async w=>{w.preventDefault(),w.stopPropagation(),g.current.open=!g.current.open,u!=="loading"&&(d||E())},children:[s(H,{icon:"translate"})," ",s("span",{children:u==="loading"?"Translating…":t&&y&&!m?i?`Translate from ${y} (auto-detected)`:`Translate from ${y}`:"Translate"})]})}),s("div",{class:"translated-block",children:[s("div",{class:"translation-info insignificant",children:[s("select",{class:"translated-source-select",disabled:u==="loading",onChange:w=>{_.current=w.target.value,E()},children:Ul.map(w=>s("option",{value:w.code,children:w.code==="auto"?`Auto (${m??"…"})`:w.name}))})," ",s("span",{children:["→ ",T]}),s(Hi,{abrupt:!0,hidden:u!=="loading"})]}),u==="error"?s("p",{class:"ui-state",children:"Failed to translate"}):!!d&&s(U,{children:[s("output",{class:"translated-content",lang:a,dir:"auto",children:d}),!!l&&s("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:w=>{w.target.classList.toggle("expand")},children:l})]})]})]})})}const ou=fn!=null&&fn.length?ru:()=>null;function at(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function ks(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=at(n);return(o,i)=>r.then(a=>i(a.transaction(t,o).objectStore(t)))}let Nr;function At(){return Nr||(Nr=ks("keyval-store","keyval")),Nr}function iu(e,t=At()){return t("readonly",n=>at(n.get(e)))}function su(e,t,n=At()){return n("readwrite",r=>(r.put(t,e),at(r.transaction)))}function au(e,t=At()){return t("readonly",n=>Promise.all(e.map(r=>at(n.get(r)))))}function cu(e,t=At()){return t("readwrite",n=>(n.delete(e),at(n.transaction)))}function lu(e,t=At()){return t("readwrite",n=>(e.forEach(r=>n.delete(r)),at(n.transaction)))}function uu(e=At()){return e("readwrite",t=>(t.clear(),at(t.transaction)))}function du(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},at(e.transaction)}function fu(e=At()){return e("readonly",t=>{if(t.getAllKeys)return at(t.getAllKeys());const n=[];return du(t,r=>n.push(r.key)).then(()=>n)})}function pi(e,t){const n=ks(e,t);return{set:(r,o)=>su(r,o,n),get:r=>iu(r,n),getMany:r=>au(r,n),del:r=>cu(r,n),delMany:r=>lu(r,n),clear:()=>uu(n),keys:()=>fu(n)}}const $f={drafts:pi("drafts-db","drafts-store"),catchup:pi("catchup-db","catchup-store")};async function Lf(e,t={}){if(!(e!=null&&e.length))return;const{masto:n}=Xn(),r=ho(),o=e.reduce((i,a)=>(!i.includes(a.id)&&!t[a.id]&&a.id!==r&&i.push(a.id),i),[]);if(!o.length)return null;try{return(await n.v1.accounts.relationships.fetch({id:o})).reduce((u,c)=>(u[c.id]=c,u),{})}catch{return null}}class Be extends HTMLElement{constructor(){super(),this.isIframeLoaded=!1,this.setupDom()}static get observedAttributes(){return["videoid","playlistid"]}connectedCallback(){this.addEventListener("pointerover",Be.warmConnections,{once:!0}),this.addEventListener("click",()=>this.addIframe())}get videoId(){return encodeURIComponent(this.getAttribute("videoid")||"")}set videoId(t){this.setAttribute("videoid",t)}get playlistId(){return encodeURIComponent(this.getAttribute("playlistid")||"")}set playlistId(t){this.setAttribute("playlistid",t)}get videoTitle(){return this.getAttribute("videotitle")||"Video"}set videoTitle(t){this.setAttribute("videotitle",t)}get videoPlay(){return this.getAttribute("videoPlay")||"Play"}set videoPlay(t){this.setAttribute("videoPlay",t)}get videoStartAt(){return this.getAttribute("videoStartAt")||"0"}get autoLoad(){return this.hasAttribute("autoload")}get noCookie(){return this.hasAttribute("nocookie")}get posterQuality(){return this.getAttribute("posterquality")||"hqdefault"}get posterLoading(){return this.getAttribute("posterloading")||"lazy"}get params(){return`start=${this.videoStartAt}&${this.getAttribute("params")}`}set params(t){this.setAttribute("params",t)}setupDom(){const t=this.attachShadow({mode:"open"});let n="";window.liteYouTubeNonce&&(n=`nonce="${window.liteYouTubeNonce}"`),t.innerHTML=`
      <style ${n}>
        :host {
          contain: content;
          display: block;
          position: relative;
          width: 100%;
          padding-bottom: calc(100% / (16 / 9));
        }

        @media (max-width: 40em) {
          :host([short]) {
            padding-bottom: calc(100% / (9 / 16));
          }
        }

        #frame, #fallbackPlaceholder, iframe {
          position: absolute;
          width: 100%;
          height: 100%;
          left: 0;
        }

        #frame {
          cursor: pointer;
        }

        #fallbackPlaceholder {
          object-fit: cover;
        }

        #frame::before {
          content: '';
          display: block;
          position: absolute;
          top: 0;
          background-image: linear-gradient(180deg, #111 -20%, transparent 90%);
          height: 60px;
          width: 100%;
          z-index: 1;
        }

        #playButton {
          width: 68px;
          height: 48px;
          background-color: transparent;
          background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');
          z-index: 1;
          border: 0;
          border-radius: inherit;
        }

        #playButton:before {
          content: '';
          border-style: solid;
          border-width: 11px 0 11px 19px;
          border-color: transparent transparent transparent #fff;
        }

        #playButton,
        #playButton:before {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          cursor: inherit;
        }

        /* Post-click styles */
        .activated {
          cursor: unset;
        }

        #frame.activated::before,
        #frame.activated > #playButton {
          display: none;
        }
      </style>
      <div id="frame">
        <picture>
          <source id="webpPlaceholder" type="image/webp">
          <source id="jpegPlaceholder" type="image/jpeg">
          <img id="fallbackPlaceholder" referrerpolicy="origin" loading="lazy">
        </picture>
        <button id="playButton"></button>
      </div>
    `,this.domRefFrame=t.querySelector("#frame"),this.domRefImg={fallback:t.querySelector("#fallbackPlaceholder"),webp:t.querySelector("#webpPlaceholder"),jpeg:t.querySelector("#jpegPlaceholder")},this.domRefPlayButton=t.querySelector("#playButton")}setupComponent(){this.initImagePlaceholder(),this.domRefPlayButton.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),this.setAttribute("title",`${this.videoPlay}: ${this.videoTitle}`),(this.autoLoad||this.isYouTubeShort())&&this.initIntersectionObserver()}attributeChangedCallback(t,n,r){switch(t){case"videoid":case"playlistid":case"videoTitle":case"videoPlay":{n!==r&&(this.setupComponent(),this.domRefFrame.classList.contains("activated")&&(this.domRefFrame.classList.remove("activated"),this.shadowRoot.querySelector("iframe").remove(),this.isIframeLoaded=!1));break}default:break}}addIframe(t=!1){if(!this.isIframeLoaded){let n=t?0:1;const r=this.noCookie?"-nocookie":"";let o;this.playlistId?o=`?listType=playlist&list=${this.playlistId}&`:o=`${this.videoId}?`,this.isYouTubeShort()&&(this.params=`loop=1&mute=1&modestbranding=1&playsinline=1&rel=0&enablejsapi=1&playlist=${this.videoId}`,n=1);const i=`
<iframe frameborder="0" title="${this.videoTitle}"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
  src="https://www.youtube${r}.com/embed/${o}autoplay=${n}&${this.params}"
></iframe>`;this.domRefFrame.insertAdjacentHTML("beforeend",i),this.domRefFrame.classList.add("activated"),this.isIframeLoaded=!0,this.attemptShortAutoPlay(),this.dispatchEvent(new CustomEvent("liteYoutubeIframeLoaded",{detail:{videoId:this.videoId},bubbles:!0,cancelable:!0}))}}initImagePlaceholder(){var r,o;const t=`https://i.ytimg.com/vi_webp/${this.videoId}/${this.posterQuality}.webp`,n=`https://i.ytimg.com/vi/${this.videoId}/${this.posterQuality}.jpg`;this.domRefImg.fallback.loading=this.posterLoading,this.domRefImg.webp.srcset=t,this.domRefImg.jpeg.srcset=n,this.domRefImg.fallback.src=n,this.domRefImg.fallback.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),(o=(r=this.domRefImg)==null?void 0:r.fallback)==null||o.setAttribute("alt",`${this.videoPlay}: ${this.videoTitle}`)}initIntersectionObserver(){const t={root:null,rootMargin:"0px",threshold:0};new IntersectionObserver((r,o)=>{r.forEach(i=>{i.isIntersecting&&!this.isIframeLoaded&&(Be.warmConnections(),this.addIframe(!0),o.unobserve(this))})},t).observe(this)}attemptShortAutoPlay(){this.isYouTubeShort()&&setTimeout(()=>{var t,n;(n=(t=this.shadowRoot.querySelector("iframe"))==null?void 0:t.contentWindow)==null||n.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},2e3)}isYouTubeShort(){return this.getAttribute("short")===""&&window.matchMedia("(max-width: 40em)").matches}static addPrefetch(t,n){const r=document.createElement("link");r.rel=t,r.href=n,r.crossOrigin="true",document.head.append(r)}static warmConnections(){Be.isPreconnected||window.liteYouTubeIsPreconnected||(Be.addPrefetch("preconnect","https://i.ytimg.com/"),Be.addPrefetch("preconnect","https://s.ytimg.com"),Be.addPrefetch("preconnect","https://www.youtube.com"),Be.addPrefetch("preconnect","https://www.google.com"),Be.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),Be.addPrefetch("preconnect","https://static.doubleclick.net"),Be.isPreconnected=!0,window.liteYouTubeIsPreconnected=!0)}}Be.isPreconnected=!1;customElements.define("lite-youtube",Be);const As=new Uint8Array(128);for(let e=0;e<83;e++)As["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".charCodeAt(e)]=e;const Yn=(e,t,n)=>{let r=0;for(;t<n;)r*=83,r+=As[e.charCodeAt(t++)];return r},Is=Math.pow,_n=Math.PI,hu=_n*2,$s=3294.6,Ls=269.025,pu=e=>e>10.31475?Is(e/Ls+.052132,2.4):e/$s,Fr=e=>~~(e>1227e-8?Ls*Is(e,.416666)-13.025:e*$s+1),hn=e=>(e<0?-1:1)*e*e,mi=e=>{for(e+=_n/2;e>_n;)e-=hu;const t=1.27323954*e-.405284735*hn(e);return .225*(hn(t)-t)+t};function xo(e){const t=Yn(e,2,6);return[t>>16,t>>8&255,t&255]}function mu(e,t,n,r){const o=Yn(e,0,1),i=o%9+1,a=~~(o/9)+1,u=i*a;let c=0,l=0,f=0,d=0,p=0,m=0,h=0,g=0,y=0,T=0,_=0,E=0;const w=(Yn(e,1,2)+1)/13446*(r|1),b=new Float64Array(u*3),M=xo(e);for(c=0;c<3;c++)b[c]=pu(M[c]);for(c=1;c<u;c++)E=Yn(e,4+c*2,6+c*2),b[c*3]=hn(~~(E/361)-9)*w,b[c*3+1]=hn(~~(E/19)%19-9)*w,b[c*3+2]=hn(E%19-9)*w;const A=new Float64Array(a*n),O=new Float64Array(i*t);for(l=0;l<a;l++)for(d=0;d<n;d++)A[l*n+d]=mi(_n*d*l/n);for(c=0;c<i;c++)for(f=0;f<t;f++)O[c*t+f]=mi(_n*f*c/t);const P=t*4,x=new Uint8ClampedArray(P*n);for(d=0;d<n;d++)for(f=0;f<t;f++){for(p=m=h=0,l=0;l<a;l++)for(y=A[l*n+d],c=0;c<i;c++)g=O[c*t+f]*y,T=(c+l*i)*3,p+=b[T]*g,m+=b[T+1]*g,h+=b[T+2]*g;_=4*f+d*P,x[_]=Fr(p),x[_+1]=Fr(m),x[_+2]=Fr(h),x[_+3]=255}return x}const gu=(e,t={})=>{const n=t.char||" ",r=t.count||2;let o=0;const i=[];return e.reverse().reduce((a,u)=>{i.length&&o&&i[o]&&i[o]===u.substring(1,i[o].length+1)&&(i.splice(o,1),o--);const l=[`${n.repeat(o?o*r:0)}${u}`,...a];return u.substring(0,2)==="</"&&(o++,i[o]=u.substring(2,u.length-1)),l},[]).join(`
`)};var vu=gu;const Cs=e=>e.trim().replace(/(^(\s|\t)+|(( |\t)+)$)/gm,""),yu=e=>{const t=Cs(e).split(`
`),n=[];let r="";for(let o=0;o<t.length;o+=1){const i=t[o];if(i.endsWith("/>")){n.push(`${r}${i.slice(0,-2)} />`),r="";continue}if(i.endsWith(">")){n.push(`${r}${i.startsWith(">")||i.startsWith("<")?"":" "}${i}`),r="";continue}r+=r.length?` ${i}`:i}return n};var _u={mergeAttributesWithElements:yu,removeEmptyLines:Cs};const bu=vu,{mergeAttributesWithElements:wu}=_u,Tu=(e,t={})=>{const n=wu(e);return bu(n,t)};var Eu=Tu;const xu=St(Eu);var cn=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(cn||{}),ln=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(ln||{});const Ps=()=>typeof window=="object"?(window==null?void 0:window.PointerEvent)??null:null,Mu=()=>typeof window=="object"?(window==null?void 0:window.TouchEvent)??null:null;function Os(e){const{nativeEvent:t}=e,n=Mu();return n&&t instanceof n||"touches"in e}function Ds(e){const t=Ps();return e.nativeEvent instanceof MouseEvent&&!(t&&e.nativeEvent instanceof t)}function Rs(e){const{nativeEvent:t}=e;if(!t)return!1;const n=Ps();return n&&t instanceof n||"pointerId"in t}function gi(e){return Ds(e)||Os(e)||Rs(e)}function vi(e){return Os(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:Ds(e)||Rs(e)?{x:e.pageX,y:e.pageY}:null}function Su(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}function Ns(e,{threshold:t=400,captureEvent:n=!1,detect:r=cn.Pointer,cancelOnMovement:o=!1,cancelOutsideElement:i=!0,filterEvents:a,onStart:u,onMove:c,onFinish:l,onCancel:f}={}){const d=j(!1),p=j(!1),m=j(),h=j(),g=j(e),y=j(null),T=Ie(b=>M=>{p.current||gi(M)&&(a!==void 0&&!a(M)||(n&&M.persist(),u==null||u(M,{context:b}),y.current=vi(M),p.current=!0,m.current=M.currentTarget,h.current=setTimeout(()=>{g.current&&(g.current(M,{context:b}),d.current=!0)},t)))},[n,a,u,t]),_=Ie(b=>(M,A)=>{gi(M)&&p.current&&(y.current=null,n&&M.persist(),d.current?l==null||l(M,{context:b}):p.current&&(f==null||f(M,{context:b,reason:A??ln.CancelledByRelease})),d.current=!1,p.current=!1,h.current!==void 0&&clearTimeout(h.current))},[n,l,f]),E=Ie(b=>M=>{if(c==null||c(M,{context:b}),o!==!1&&y.current){const A=vi(M);if(A){const O=o===!0?25:o,P={x:Math.abs(A.x-y.current.x),y:Math.abs(A.y-y.current.y)};(P.x>O||P.y>O)&&_(b)(M,ln.CancelledByMovement)}}},[_,o,c]),w=Ie(b=>{if(e===null)return{};switch(r){case cn.Mouse:{const M={onMouseDown:T(b),onMouseMove:E(b),onMouseUp:_(b)};return i&&(M.onMouseLeave=A=>{_(b)(A,ln.CancelledOutsideElement)}),M}case cn.Touch:return{onTouchStart:T(b),onTouchMove:E(b),onTouchEnd:_(b)};case cn.Pointer:{const M={onPointerDown:T(b),onPointerMove:E(b),onPointerUp:_(b)};return i&&(M.onPointerLeave=A=>_(b)(A,ln.CancelledOutsideElement)),M}}},[e,_,i,r,E,T]);return se(()=>{if(!window)return;function b(M){const A=Su(M);_()(A)}return window.addEventListener("mouseup",b),window.addEventListener("touchend",b),window.addEventListener("pointerup",b),()=>{window.removeEventListener("mouseup",b),window.removeEventListener("touchend",b),window.removeEventListener("pointerup",b)}},[_]),se(()=>()=>{h.current!==void 0&&clearTimeout(h.current)},[]),se(()=>{g.current=e},[e]),w}function ku({poll:e,lang:t,readOnly:n,refresh:r=()=>{},votePoll:o=()=>{}}){const[i,a]=te("default"),{expired:u,expiresAt:c,id:l,multiple:f,options:d,ownVotes:p,voted:m,votersCount:h,votesCount:g,emojis:y}=e,T=!!c&&new Date(c),_=h||g;let E=0;_<=1e3?E=0:_<=1e4?E=1:_<=1e5&&(E=2);const[w,b]=te(!1),M=d.every(A=>A.votesCount!==null);return s("div",{lang:t,dir:"auto",class:`poll ${n?"read-only":""} ${i==="loading"?"loading":""}`,children:[w&&M||m||u?s(U,{children:[s("div",{class:"poll-options",children:d.map((A,O)=>{const{title:P,votesCount:x}=A,S=_?(x/_*100).toFixed(E):0,V=x>0&&x===Math.max(...d.map(B=>B.votesCount));return s("div",{class:`poll-option poll-result ${V?"poll-option-leading":""}`,style:{"--percentage":`${S}%`},children:[s("div",{class:"poll-option-title",children:[s("span",{children:s(Bt,{text:P,emojis:y})}),m&&p.includes(O)&&s(U,{children:[" ",s(H,{icon:"check-circle"})]})]}),s("div",{class:"poll-option-votes",title:`${x} vote${x===1?"":"s"}`,children:[S,"%"]})]},`${O}-${P}-${x}`)})}),!u&&!m&&s("button",{class:"poll-vote-button plain2",disabled:i==="loading",onClick:A=>{A.preventDefault(),b(!1)},children:[s(H,{icon:"arrow-left",size:"s"})," Hide results"]})]}):s("form",{onSubmit:async A=>{A.preventDefault();const O=A.target,P=new FormData(O),x=[];P.forEach((S,V)=>{V==="poll"&&x.push(S)}),x.length&&(a("loading"),await o(x),a("default"))},children:[s("div",{class:"poll-options",children:d.map((A,O)=>{const{title:P}=A;return s("div",{class:"poll-option",children:s("label",{class:"poll-label",children:[s("input",{type:f?"checkbox":"radio",name:"poll",value:O,disabled:i==="loading",readOnly:n}),s("span",{class:"poll-option-title",children:s(Bt,{text:P,emojis:y})})]})})})}),!n&&s("button",{class:"poll-vote-button",type:"submit",disabled:i==="loading",children:"Vote"})]}),s("p",{class:"poll-meta",children:[!u&&!n&&s("button",{type:"button",class:"plain small",disabled:i==="loading",onClick:A=>{A.preventDefault(),a("loading"),(async()=>(await r(),a("default")))()},title:"Refresh",children:s(H,{icon:"refresh",alt:"Refresh"})}),!m&&!u&&!n&&M&&s("button",{type:"button",class:"plain small",disabled:i==="loading",onClick:A=>{A.preventDefault(),b(!w)},title:w?"Hide results":"Show results",children:[s(H,{icon:w?"eye-open":"eye-close",alt:w?"Hide results":"Show results"})," "]}),!u&&!n&&" ",s("span",{title:g,children:mt(g)})," vote",g===1?"":"s",!!h&&h!==g&&s(U,{children:[" ","• ",s("span",{title:h,children:mt(h)})," ","voter",h===1?"":"s"]})," ","• ",u?"Ended":"Ending"," ",!!T&&s(Mt,{datetime:T})]})," "]})}const Fs=ot();function Au(e,t){if(!(e!=null&&e.length))return!1;const n=e.filter(i=>{const{filter:a}=i,u=a.context.includes(t);return u?a.expiresAt?new Date(a.expiresAt)>new Date:u:!1});if(!n.length)return!1;if(n.some(i=>i.filter.filterAction==="hide"))return{action:"hide"};if(n.some(i=>i.filter.filterAction==="warn")){const i=n.map(a=>a.filter.title);return{action:"warn",titles:i,titlesStr:i.join(" • ")}}return!1}const Mo=st(Au);function Iu(e,t,n){var a;const{filtered:r}=e;if(!(r!=null&&r.length)||n&&((a=e.account)==null?void 0:a.id)===n)return!0;const i=Mo(r,t);return i?i.action!=="hide":!0}function Cf(e,t){if(!(e!=null&&e.length))return[];if(!t)return e;const n=ho();return e.filter(r=>Iu(r,t,n))}const zr=document.createElement("div");function Hr(e){return e?(zr.innerHTML=e,zr.querySelectorAll(".invisible").forEach(t=>{t.remove()}),zr.innerText.length):0}const un="speechSynthesis"in window;function yi(e,t){if(un)try{speechSynthesis.speaking&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);t&&(n.lang=t),speechSynthesis.speak(n)}catch(n){alert(n)}}function zs(e){var a;const{spoilerText:t,content:n,poll:r,mediaAttachments:o}=e;let i="";return t!=null&&t.trim()?i+=t:i+=cr(n),i=i.trim(),(a=r==null?void 0:r.options)!=null&&a.length&&(i+=`

📊:
${r.options.map(u=>`${r.multiple?"▪️":"•"} ${u.title}`).join(`
`)}`),o!=null&&o.length&&(i+=" "+o.map(u=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[u.type]||"").join("")),i}function $u(e,t,n){var r=this,o=j(null),i=j(0),a=j(null),u=j([]),c=j(),l=j(),f=j(e),d=j(!0);f.current=e;var p=typeof window<"u",m=!t&&t!==0&&p;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,g=!("trailing"in n)||!!n.trailing,y="maxWait"in n,T="debounceOnServer"in n&&!!n.debounceOnServer,_=y?Math.max(+n.maxWait||0,t):null;se(function(){return d.current=!0,function(){d.current=!1}},[]);var E=fe(function(){var w=function(x){var S=u.current,V=c.current;return u.current=c.current=null,i.current=x,l.current=f.current.apply(V,S)},b=function(x,S){m&&cancelAnimationFrame(a.current),a.current=m?requestAnimationFrame(x):setTimeout(x,S)},M=function(x){if(!d.current)return!1;var S=x-o.current;return!o.current||S>=t||S<0||y&&x-i.current>=_},A=function(x){return a.current=null,g&&u.current?w(x):(u.current=c.current=null,l.current)},O=function x(){var S=Date.now();if(M(S))return A(S);if(d.current){var V=t-(S-o.current),B=y?Math.min(V,_-(S-i.current)):V;b(x,B)}},P=function(){if(p||T){var x=Date.now(),S=M(x);if(u.current=[].slice.call(arguments),c.current=r,o.current=x,S){if(!a.current&&d.current)return i.current=o.current,b(O,t),h?w(o.current):l.current;if(y)return b(O,t),w(o.current)}return a.current||b(O,t),l.current}};return P.cancel=function(){a.current&&(m?cancelAnimationFrame(a.current):clearTimeout(a.current)),i.current=0,u.current=o.current=c.current=a.current=null},P.isPending=function(){return!!a.current},P.flush=function(){return a.current?A(Date.now()):l.current},P},[h,y,t,_,g,m,p,T]);return E}function Lu(e,t,n){var r=n===void 0?{}:n,o=r.leading,i=r.trailing;return $u(e,t,{maxWait:t,leading:o===void 0||o,trailing:i===void 0||i})}function Cu(e,t){var n=j(null),r=j(null);r.current=t;var o=j(null);se(function(){i()});var i=Ie(function(){var a=o.current,u=r.current,c=a||(u?u instanceof Element?u:u.current:null);n.current&&n.current.element===c&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:c,subscriber:e,cleanup:c?e(c):void 0})},[e]);return se(function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}},[]),Ie(function(a){o.current=a,i()},[i])}function _i(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function Pu(e){e===void 0&&(e={});var t=e.onResize,n=j(void 0);n.current=t;var r=e.round||Math.round,o=j(),i=te({width:void 0,height:void 0}),a=i[0],u=i[1],c=j(!1);se(function(){return c.current=!1,function(){c.current=!0}},[]);var l=j({width:void 0,height:void 0}),f=Cu(Ie(function(d){return(!o.current||o.current.box!==e.box||o.current.round!==r)&&(o.current={box:e.box,round:r,instance:new ResizeObserver(function(p){var m=p[0],h=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",g=_i(m,h,"inlineSize"),y=_i(m,h,"blockSize"),T=g?r(g):void 0,_=y?r(y):void 0;if(l.current.width!==T||l.current.height!==_){var E={width:T,height:_};l.current.width=T,l.current.height=_,n.current?n.current(E):c.current||u(E)}})}),o.current.instance.observe(d,{box:e.box}),function(){o.current&&o.current.instance.unobserve(d)}},[e.box,r]),e.ref);return fe(function(){return{ref:f,width:a.width,height:a.height}},[f,a.width,a.height])}function qn({className:e="truncated"}={}){const t=j(),n=Lu(({height:r})=>{if(t.current){const{scrollHeight:o}=t.current;let i=o>r;if(i){const{height:a,maxHeight:u}=getComputedStyle(t.current),c=parseInt(u||a,10);i=o>c}t.current.classList.toggle(e,i)}},300);return Pu({ref:t,box:"border-box",onResize:n}),t}const ro={public:"earth",unlisted:"group",private:"lock",direct:"message"};var Hs="kvfysmfp",Vs="ufhsfnkm",Ou=".".concat(Hs,"{overflow:hidden;touch-action:none}.").concat(Vs,"{transform-origin: 0 0}"),Du=typeof window>"u",Ru=function(){return!Du&&("ontouchstart"in window||navigator.maxTouchPoints>0)};var Nu=function(e){var t=e.x,n=e.y,r=e.scale;return"scale3d(".concat(r,",").concat(r,", 1) translate3d(").concat(t,"px, ").concat(n,"px, 0)")};var Fu=Math.min,zu=Math.max;function bi(e){var t=e.containerDimension,n=e.childDimension,r=e.padding,o=e.centerContained,i=n-t;return i+2*r<=0&&o?[i/2,i/2]:[Fu(i+r,0)-r,zu(0,i+r)]}var wi=function(e,t){return t?"".concat(e," ").concat(t):e},jn=Math.abs,Hu=Math.min,Vu=Math.sqrt,js=typeof window>"u",ju=js?!1:/(Mac)/i.test(navigator.platform),Dt=function(e){return e==="drag"},rn=function(e){return e==="zoom"},Bu=function(e){return ju&&e.ctrlKey},on=function(e){e.stopPropagation(),e.preventDefault()},Ti=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Vu(n*n+r*r)},Uu=function(e,t){var n=Ti(e[0],e[1]),r=Ti(t[0],t[1]);return r/n},Wu=function(e,t){return e>t-.01&&e<t+.01},Ku=function(e){return-Math.cos(e*Math.PI)/2+.5},Zu=function(e){return{x:e.pageX,y:e.pageY}},Bn=function(e){return Array.from(e).map(Zu)},Ei=function(e,t){return e+t},Yu=function(e){return{x:e.map(function(t){var n=t.x;return n}).reduce(Ei,0)/e.length,y:e.map(function(t){var n=t.y;return n}).reduce(Ei,0)/e.length}},Vr=function(e,t,n){return n<e?e:n>t?t:n},qu=function(e){return!(e.ctrlKey||e.metaKey)},Gu=function(e){if(e){var t=e.offsetWidth,n=e.offsetHeight;if(t&&n)return{width:t,height:n};var r=getComputedStyle(e),o=parseFloat(r.width),i=parseFloat(r.height);if(i&&o)return{width:o,height:i}}return{width:0,height:0}},Xu=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},Ju=function(e,t){return e.x===t.x&&e.y===t.y},Tt=function(){},Un={x:0,y:0},xi=function(e){Ta(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._prevDragMovePoint=null,n._containerObserver=null,n._fingers=0,n._firstMove=!0,n._initialOffset=Pe({},Un),n._interaction=null,n._isDoubleTap=!1,n._isOffsetsSet=!1,n._lastDragPosition=null,n._lastScale=1,n._lastTouchStart=0,n._lastZoomCenter=null,n._listenMouseMove=!1,n._nthZoom=0,n._offset=Pe({},Un),n._startOffset=Pe({},Un),n._startTouches=null,n._updatePlaned=!1,n._wheelTimeOut=null,n._zoomFactor=1,n._initialZoomFactor=1,n._draggingPoint=Pe({},Un),n._ignoreNextClick=!1,n._containerRef=Ea(),n._handleClick=function(r){n._ignoreNextClick&&(n._ignoreNextClick=!1,r.stopPropagation())},n._onResize=function(){var r;!((r=n._containerRef)===null||r===void 0)&&r.current&&(n._updateInitialZoomFactor(),n._setupOffsets(),n._update())},n._handlerOnTouchEnd=n._handlerIfEnable(function(r){n._fingers=r.touches.length,n.props.shouldCancelHandledTouchEndEvents&&(rn(n._interaction)||Dt(n._interaction)&&(n._startOffset.x!==n._offset.x||n._startOffset.y!==n._offset.y))&&on(r),Dt(n._interaction)&&!n._enoughToDrag()&&n._handleClick(r),n._updateInteraction(r)}),n._handlerOnTouchStart=n._handlerIfEnable(function(r){n._firstMove=!0,n._fingers=r.touches.length,n._detectDoubleTap(r)}),n._handlerOnTouchMove=n._handlerIfEnable(function(r){n._isDoubleTap||(n._collectInertia(r),n._firstMove?(n._updateInteraction(r),n._interaction&&on(r),n._startOffset=Pe({},n._offset),n._startTouches=Bn(r.touches)):(rn(n._interaction)?n._startTouches&&n._startTouches.length===2&&r.touches.length===2&&n._handleZoom(r,Uu(n._startTouches,Bn(r.touches))):Dt(n._interaction)&&n._handleDrag(r),n._interaction&&(on(r),n._update())),n._firstMove=!1)}),n._handlerWheel=function(r){if(!n.props.shouldInterceptWheel(r)){on(r);var o=r.pageX,i=r.pageY,a=r.deltaY,u=r.deltaMode,c=1;(Bu(r)||u===1)&&(c=15);var l={touches:[{pageX:o,pageY:i}]},f=n._getOffsetByFirstTouch(l),d=a*c;n._stopAnimation(),n._scaleTo(n._zoomFactor-d/n.props.wheelScaleFactor,f),n._update(),clearTimeout(n._wheelTimeOut),n._wheelTimeOut=setTimeout(function(){return n._sanitize()},100)}},n._handlers=n.props.isTouch()?[["touchstart",n._handlerOnTouchStart],["touchend",n._handlerOnTouchEnd],["touchmove",n._handlerOnTouchMove]]:[["mousemove",n.simulate(n._handlerOnTouchMove),n.props._document],["mouseup",n.simulate(n._handlerOnTouchEnd),n.props._document],["mousedown",n.simulate(n._handlerOnTouchStart)],["click",n._handleClick],["wheel",n._handlerWheel]],n}return t.prototype._handleDragStart=function(n){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._draggingPoint=this._offset,this._handleDrag(n)},t.prototype._handleDrag=function(n){var r=this._getOffsetByFirstTouch(n);this._enoughToDrag()?this._drag(r,this._lastDragPosition):this._virtualDrag(r,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=r},t.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},t.prototype._realizeInertia=function(){var n=this,r=this.props,o=r.inertiaFriction,i=r.inertia;if(!(!i||!this._velocity)){var a=this._velocity,u=a.x,c=a.y;if(u||c){this._stopAnimation(),this._resetInertia();var l=function(){if(u*=o,c*=o,!u&&!c)return n._stopAnimation();var f=Pe({},n._offset);if(n._addOffset({x:u,y:c}),n._offset=n._sanitizeOffset(n._offset),Ju(f,n._offset))return n._stopAnimation();n._update({isAnimation:!0})};this._animate(l,{duration:9999})}}},t.prototype._collectInertia=function(n){var r=n.touches;if(this.props.inertia){var o=Bn(r)[0],i=this._prevDragMovePoint;i&&(this._velocity=Xu(o,i)),this._prevDragMovePoint=o}},t.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},t.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},t.prototype._handleZoom=function(n,r){var o=Yu(this._getOffsetTouches(n)),i=r/this._lastScale;this._lastScale=r,this._nthZoom+=1,this._nthZoom>3&&(this._scale(i,o),this._drag(o,this._lastZoomCenter),this.props.enforceBoundsDuringZoom&&(this._offset=this._sanitizeOffset(this._offset))),this._lastZoomCenter=o},t.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},t.prototype._handleDoubleTap=function(n){var r=this;if(!(this._hasInteraction||this.props.tapZoomFactor===0)){var o=this.props.doubleTapZoomOutOnMaxScale&&this._zoomFactor===this.props.maxZoom||this.props.doubleTapToggleZoom&&this._zoomFactor>1;this.props.onDoubleTap(),this._ignoreNextClick=!0;var i=this._zoomFactor+this.props.tapZoomFactor,a=this._zoomFactor,u=function(l){r._scaleTo(a+l*(i-a),c)},c=this._getOffsetByFirstTouch(n);this._isDoubleTap=!0,a>i&&(c=this._getCurrentZoomCenter()),o?this._zoomOutAnimation():this._animate(u)}},t.prototype._computeInitialOffset=function(){var n=this._getContainerRect(),r=this._getChildSize(),o=r.width,i=r.height,a=-jn(o*this._getInitialZoomFactor()-n.width)/2,u=-jn(i*this._getInitialZoomFactor()-n.height)/2;this._initialOffset={x:a,y:u}},t.prototype._resetOffset=function(){this._offset=Pe({},this._initialOffset)},t.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},t.prototype._sanitizeOffset=function(n){var r=this._getContainerRect(),o=this._getChildSize(),i=o.width,a=o.height,u=i*this._getInitialZoomFactor()*this._zoomFactor,c=a*this._getInitialZoomFactor()*this._zoomFactor,l=bi({containerDimension:r.width,childDimension:u,padding:this.props.horizontalPadding,centerContained:this.props.centerContained}),f=l[0],d=l[1],p=bi({containerDimension:r.height,childDimension:c,padding:this.props.verticalPadding,centerContained:this.props.centerContained}),m=p[0],h=p[1];return{x:Vr(f,d,n.x),y:Vr(m,h,n.y)}},t.prototype.alignCenter=function(n){var r=this,o=Pe({duration:250,animated:!0},n),i=o.x,a=o.y,u=o.scale,c=o.animated,l=o.duration,f=i*this._initialZoomFactor,d=a*this._initialZoomFactor,p=this._zoomFactor,m=Pe({},this._offset),h=this._getContainerRect(),g={x:h.width/2,y:h.height/2};if(this._zoomFactor=1,this._offset={x:-(g.x-f),y:-(g.y-d)},this._scaleTo(u,g),this._stopAnimation(),!c)return this._update();var y=this._zoomFactor-p,T={x:this._offset.x-m.x,y:this._offset.y-m.y};this._zoomFactor=p,this._offset=Pe({},m);var _=function(E){var w=m.x+T.x*E,b=m.y+T.y*E;r._zoomFactor=p+y*E,r._offset=r._sanitizeOffset({x:w,y:b}),r._update()};this._animate(_,{callback:function(){return r._sanitize()},duration:l})},t.prototype.scaleTo=function(n){var r=this,o=Pe({duration:250,animated:!0},n),i=o.x,a=o.y,u=o.scale,c=o.animated,l=o.duration,f=this._zoomFactor,d=Pe({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(u,{x:i,y:a}),this._stopAnimation(),!c)return this._update();var p=this._zoomFactor-f,m={x:this._offset.x-d.x,y:this._offset.y-d.y};this._zoomFactor=f,this._offset=Pe({},d);var h=function(g){var y=d.x+m.x*g,T=d.y+m.y*g;r._zoomFactor=f+p*g,r._offset={x:y,y:T},r._update()};this._animate(h,{callback:function(){return r._sanitize()},duration:l})},t.prototype._scaleTo=function(n,r){this._scale(n/this._zoomFactor,r),this._offset=this._sanitizeOffset(this._offset)},t.prototype._scale=function(n,r){n=this._scaleZoomFactor(n),this._addOffset({x:(n-1)*(r.x+this._offset.x),y:(n-1)*(r.y+this._offset.y)}),this.props.onZoomUpdate()},t.prototype._scaleZoomFactor=function(n){var r=this._zoomFactor;return this._zoomFactor*=n,this._zoomFactor=Vr(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/r},t.prototype._canDrag=function(){return this.props.draggableUnZoomed||!Wu(this._zoomFactor,1)},t.prototype._drag=function(n,r){if(r){var o=-(n.y-r.y),i=-(n.x-r.x);this.props.lockDragAxis?jn(i)>jn(o)?this._addOffset({x:i,y:0}):this._addOffset({y:o,x:0}):this._addOffset({x:i,y:o}),this.props.onDragUpdate()}},t.prototype._virtualDrag=function(n,r){if(r){var o=-(n.y-r.y),i=-(n.x-r.x);this._draggingPoint={x:i+this._draggingPoint.x,y:o+this._draggingPoint.y}}},t.prototype._addOffset=function(n){var r=this._offset,o=r.x,i=r.y;this._offset={x:o+n.x,y:i+n.y}},t.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?(this._resetInertia(),this._zoomOutAnimation()):this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},t.prototype._isInsaneOffset=function(){var n=this._offset,r=this._sanitizeOffset(n);return r.x!==n.x||r.y!==n.y},t.prototype._sanitizeOffsetAnimation=function(){var n=this,r=this._sanitizeOffset(this._offset),o=Pe({},this._offset),i=function(a){var u=o.x+a*(r.x-o.x),c=o.y+a*(r.y-o.y);n._offset={x:u,y:c},n._update()};this._animate(i)},t.prototype._zoomOutAnimation=function(){var n=this;if(this._zoomFactor!==1){var r=this._zoomFactor,o=1,i=this._getCurrentZoomCenter(),a=function(u){var c=r+u*(o-r);n._scaleTo(c,i)};this._animate(a)}},t.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},t.prototype._getCurrentZoomCenter=function(){var n=this._offset,r=n.x,o=n.y,i=r-this._initialOffset.x,a=o-this._initialOffset.y;return{x:-1*r-i/(1/this._zoomFactor-1),y:-1*o-a/(1/this._zoomFactor-1)}},t.prototype._getOffsetByFirstTouch=function(n){return this._getOffsetTouches(n)[0]},t.prototype._getOffsetTouches=function(n){var r=this.props._document,o=r.documentElement,i=r.body,a=this._getContainerRect(),u=a.top,c=a.left,l=o.scrollTop||i.scrollTop,f=o.scrollLeft||i.scrollLeft,d=u+l,p=c+f;return Bn(n.touches).map(function(m){var h=m.x,g=m.y;return{x:h-p,y:g-d}})},t.prototype._animate=function(n,r){var o=this,i=new Date().getTime(),a=Pe({timeFn:Ku,callback:function(){},duration:this.props.animationDuration},r),u=a.timeFn,c=a.callback,l=a.duration,f=function(){if(o._inAnimation){var d=new Date().getTime()-i,p=d/l;d>=l?(n(1),o._stopAnimation(),c(),o._update()):(p=u(p),n(p),o._update({isAnimation:!0}),requestAnimationFrame(f))}};this._inAnimation=!0,requestAnimationFrame(f)},t.prototype._stopAnimation=function(){this._inAnimation=!1},t.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},t.prototype._getContainerRect=function(){var n=this._containerRef.current;return n.getBoundingClientRect()},t.prototype._getChildSize=function(){var n=this._containerRef.current;return Gu(n==null?void 0:n.firstElementChild)},t.prototype._updateInitialZoomFactor=function(){var n=this._getContainerRect(),r=this._getChildSize(),o=n.width/r.width,i=n.height/r.height;this._initialZoomFactor=Hu(o,i)},t.prototype._bindEvents=function(){var n=this,r=this._containerRef.current;window.ResizeObserver?(this._containerObserver=new ResizeObserver(this._onResize),this._containerObserver.observe(r)):window.addEventListener("resize",this._onResize),this._handlers.forEach(function(o){var i=o[0],a=o[1],u=o[2];(u||r).addEventListener(i,a,!0)}),Array.from(r.querySelectorAll("img")).forEach(function(o){return o.addEventListener("load",n._onResize)})},t.prototype._unSubscribe=function(){var n=this,r=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach(function(o){var i=o[0],a=o[1],u=o[2];(u||r).removeEventListener(i,a,!0)}),Array.from(r.querySelectorAll("img")).forEach(function(o){return o.removeEventListener("load",n._onResize)})},t.prototype._update=function(n){var r=this;if(!this._updatePlaned){var o=function(){var i=r._getInitialZoomFactor()*r._zoomFactor,a=-r._offset.x/i,u=-r._offset.y/i;r.props.onUpdate({scale:i,x:a,y:u})};if(n!=null&&n.isAnimation)return o();this._updatePlaned=!0,requestAnimationFrame(function(){r._updatePlaned=!1,o()})}},t.prototype._handlerIfEnable=function(n){var r=this;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r.props.enabled&&n.apply(void 0,o)}},t.prototype._setInteraction=function(n,r){var o=this._interaction;o!==n&&(o&&!n&&(rn(o)?this._handleZoomEnd():Dt(o)&&this._handleDragEnd()),rn(n)?this._handleZoomStart():Dt(n)&&this._handleDragStart(r)),this._interaction=n},t.prototype._distanceBetweenNumbers=function(n,r){return n>r?n-r:r-n},t.prototype._enoughToDrag=function(){return this._distanceBetweenNumbers(this._startOffset.x,this._draggingPoint.x)>5||this._distanceBetweenNumbers(this._startOffset.y,this._draggingPoint.y)>5},t.prototype._updateInteraction=function(n){var r=this._fingers;if(r===2)return this._setInteraction("zoom",n);if(r===1&&this._canDrag())return this._setInteraction("drag",n);this._setInteraction(null,n)},t.prototype._detectDoubleTap=function(n){var r=new Date().getTime();this._fingers>1&&(this._lastTouchStart=0),r-this._lastTouchStart<300?(on(n),this._handleDoubleTap(n),rn(this._interaction)?this._handleZoomEnd():Dt(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,this._fingers===1&&(this._lastTouchStart=r)},t.prototype.simulate=function(n){var r=this;return function(o){var i=o.pageX,a=o.pageY,u=o.type,c=u==="mouseup",l=u==="mousedown";l&&(o.preventDefault(),r._listenMouseMove=!0),r._listenMouseMove&&(o.touches=c?[]:[{pageX:i,pageY:a}],n(o)),c&&(r._listenMouseMove=!1)}},t.prototype.componentDidMount=function(){this._bindEvents(),this._update()},t.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},t.prototype.render=function(){var n=this.props,r=n.children,o=n.containerProps,i=xa.only(r),a=o||{};return Dn.createElement(Dn.Fragment,null,Dn.createElement("style",null,Ou),Dn.createElement("div",Pe({},a,{ref:this._containerRef,className:wi(Hs,a.className)}),Ri(i,{className:wi(Vs,i.props.className)})))},t.defaultProps={animationDuration:250,draggableUnZoomed:!0,enforceBoundsDuringZoom:!1,centerContained:!1,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:Ru,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:Tt,onDragEnd:Tt,onDragStart:Tt,onDragUpdate:Tt,onZoomEnd:Tt,onZoomStart:Tt,onZoomUpdate:Tt,setOffsetsOnce:!1,shouldInterceptWheel:qu,shouldCancelHandledTouchEndEvents:!1,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,doubleTapZoomOutOnMaxScale:!1,doubleTapToggleZoom:!1,_document:js?null:window.document},t}(Fi);if(0)var Pf,Of,Df,Rf,Nf,Ff,zf;function jr(e){if(!e)return;let t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.round(e%60);return t===0?`${n}:${r.toString().padStart(2,"0")}`:`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}const Qu=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ed="ALT",Br=e=>{const{alt:t,lang:n,index:r,...o}=e;return!t||!t.trim()?null:s("button",{type:"button",class:"alt-badge clickable",...o,onClick:i=>{i.stopPropagation(),i.preventDefault(),W.showMediaAlt={alt:t,lang:n}},title:"Media description",children:[ed,!!r&&s("sup",{children:r})]})},td=140,nd=280,Bs=st(e=>e!=null&&e.length?e.length>td||/[\n\r].*[\n\r]/.test(e.trim()):!1);function rd({class:e="",media:t,to:n,lang:r,showOriginal:o,autoAnimate:i,showCaption:a,allowLongerCaption:u,altIndex:c,onClick:l=()=>{}}){let{blurhash:f,description:d,meta:p,previewRemoteUrl:m,previewUrl:h,remoteUrl:g,url:y,type:T}=t;/no\-preview\./i.test(h)&&(h=null);const{original:_={},small:E,focus:w}=p||{},b=o?_==null?void 0:_.width:(E==null?void 0:E.width)||(_==null?void 0:_.width),M=o?_==null?void 0:_.height:(E==null?void 0:E.height)||(_==null?void 0:_.height),A=o?y:h||y,O=o?g:m||g,P=b&&M,x=P?b>M?"landscape":"portrait":null,S=f?xo(f):null,V=j();let B;if(w){const Y=(w.x+1)/2*100,ge=(1-w.y)/2*100;B=`${Y.toFixed(0)}% ${ge.toFixed(0)}%`}const D=j(),$=Ie(({x:Y,y:ge,scale:ee})=>{const{current:J}=D;if(J){const pe=Nu({x:Y,y:ge,scale:ee});ee===1?J.style.removeProperty("transform"):J.style.setProperty("transform",pe),J.closest(".media-zoom").style.touchAction=ee<=1.01?"pan-x":""}},[]),[k,R]=te(!1),L={enabled:k,draggableUnZoomed:!1,inertiaFriction:.9,tapZoomFactor:2,doubleTapToggleZoom:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:$},z=fe(()=>n?Y=>s(jt,{to:n,...Y}):"div",[n]),F=O?od(O):null,C=T==="unknown"&&F&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(F.pathname),K=T==="unknown"&&F&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(F.pathname),Z=T==="image"||T==="unknown"&&h&&!C&&!K,ne=j(),[le,Te]=te(!1);pn(()=>{if(!Z||!o||!ne.current)return;const{offsetWidth:Y,offsetHeight:ge}=ne.current,ee=b<Y&&M<ge;ee&&Te(ee)},[b,M]);const he=window.innerHeight*(x==="portrait"?.45:.33),ve=x==="portrait"?0:160,ye={"--average-color":S&&`rgb(${S.join(",")})`},ie=b&&M?{"--width":`${b}px`,"--height":`${M}px`,"--aspectWidth":`${b/M*Math.max(ve,he)}px`,aspectRatio:`${b} / ${M}`,...ye}:{...ye},de=Bs(d);let q=!!a&&!o&&!!d&&!de;u&&!q&&(d==null?void 0:d.length)<=nd&&(q=!0);const oe=q?Y=>{const{children:ge,...ee}=Y;return s("figure",{...ee,children:[ge,s("figcaption",{class:"media-caption",lang:r,dir:"auto",onClick:J=>{J.preventDefault(),J.stopPropagation(),W.showMediaAlt={alt:d,lang:r}},children:d})]})}:U,[Ee,ct]=te(void 0);if(Z)return L.containerProps.style.display="inherit",pn(()=>{Qu&&o&&(async()=>{try{await fetch(A,{mode:"no-cors"}),D.current.src=A}catch{}})()},[A]),s(oe,{children:s(z,{ref:ne,class:`media media-image ${e}`,onClick:l,"data-orientation":x,"data-has-alt":!q||void 0,"data-has-natural-aspect-ratio":Ee||void 0,style:o?{backgroundImage:`url(${h})`,backgroundSize:le?`${b}px ${M}px`:void 0,...ye}:ie,children:o?s(xi,{...L,children:s("img",{ref:D,src:A,alt:d,width:b,height:M,"data-orientation":x,loading:"eager",decoding:"sync",onLoad:Y=>{Y.target.closest(".media-image").style.backgroundImage="",Y.target.closest(".media-zoom").style.display="",R(!0)},onError:Y=>{const{src:ge}=Y.target;ge===A&&O&&A!==O&&(Y.target.src=O)}})}):s(U,{children:[s("img",{src:A,alt:q?"":d,width:b,height:M,"data-orientation":x,loading:"lazy",style:{objectPosition:B||"center","--anim-duration":`${Math.min(Math.max(Math.max(b,M)/100,5),120)}s`},onLoad:Y=>{Y.target.dataset.loaded=!0;const ge=Y.target.closest(".media");if(!P&&ge){const{naturalWidth:ee,naturalHeight:J}=Y.target;ge.dataset.orientation=ee>J?"landscape":"portrait",ge.style.setProperty("--width",`${ee}px`),ge.style.setProperty("--height",`${J}px`),ge.style.aspectRatio=`${ee}/${J}`}if(ge){const{clientWidth:ee,clientHeight:J,naturalWidth:pe,naturalHeight:ue}=Y.target;if(ee&&J&&pe&&ue)if(pe<88||ue<88)ge.dataset.hasSmallDimension=!0;else{const ze=ue*ee/pe;Math.abs(ze-J)<5&&ct(!0)}}},onError:Y=>{const{src:ge}=Y.target;ge===A&&A!==O&&(Y.target.src=O)}}),!q&&s(Br,{alt:d,lang:r,index:c})]})})});if(T==="gifv"||T==="video"||C){const Y=_.duration>0,ge=_.duration<31,ee=T==="gifv"&&ge,J=_.duration<61,pe=jr(_.duration),ue=!o&&!i&&ee,ae=!o&&i&&ee,ze=_.duration>5,Le=`
      <video
        src="${y}"
        poster="${h}"
        width="${b}"
        height="${M}"
        data-orientation="${x}"
        preload="auto"
        autoplay
        muted
        playsinline
        ${J?"loop":""}
        ondblclick="this.paused ? this.play() : this.pause()"
        ${ze?"ontimeupdate=\"this.closest('.media-gif') && this.closest('.media-gif').style.setProperty('--progress', `${~~((this.currentTime / this.duration) * 100)}%`)\"":""}
      ></video>
  `,Ve=`
      <video
        src="${y}"
        poster="${h}"
        width="${b}"
        height="${M}"
        data-orientation="${x}"
        preload="auto"
        autoplay
        playsinline
        ${J?"loop":""}
        controls
      ></video>
    `;return s(oe,{children:s(z,{class:`media ${e} media-${ee?"gif":"video"} ${ae?"media-contain":""} ${ue?"media-hover-animate":""}`,"data-orientation":x,"data-formatted-duration":o?void 0:pe,"data-label":ee&&!o&&!ae?"GIF":void 0,"data-has-alt":!q||void 0,style:!o&&ie,onClick:Se=>{if(ue)try{V.current.pause()}catch{}l(Se)},onMouseEnter:()=>{if(ue)try{V.current.play()}catch{}},onMouseLeave:()=>{if(ue)try{V.current.pause()}catch{}},onFocus:()=>{if(ue)try{V.current.play()}catch{}},onBlur:()=>{if(ue)try{V.current.pause()}catch{}},children:[o||ae?ee&&o?s(xi,{...L,enabled:!0,children:s("div",{ref:D,dangerouslySetInnerHTML:{__html:Le}})}):ee?s("div",{class:"video-container",dangerouslySetInnerHTML:{__html:Le}}):s("div",{class:"video-container",dangerouslySetInnerHTML:{__html:Ve}}):ee?s("video",{ref:V,src:y,poster:h,width:b,height:M,"data-orientation":x,preload:"auto",playsinline:!0,loop:!0,muted:!0,onTimeUpdate:ze?Se=>{const{target:Ae}=Se,Re=Ae==null?void 0:Ae.closest(".media-gif");if(Re){const _e=Ae.currentTime/Ae.duration*100;Re.style.setProperty("--progress",`${_e}%`)}}:void 0}):s(U,{children:[h?s("img",{src:h,alt:q?"":d,width:b,height:M,"data-orientation":x,loading:"lazy",decoding:"async",onLoad:Se=>{if(!P){const Ae=Se.target.closest(".media");if(Ae){const{naturalHeight:Re,naturalWidth:_e}=Se.target;Ae.dataset.orientation=_e>Re?"landscape":"portrait",Ae.style.setProperty("--width",`${_e}px`),Ae.style.setProperty("--height",`${Re}px`),Ae.style.aspectRatio=`${_e}/${Re}`}}}}):s("video",{src:y+"#t=0.1",width:b,height:M,"data-orientation":x,preload:"metadata",muted:!0,disablePictureInPicture:!0,onLoadedMetadata:Se=>{if(!Y){const{duration:Ae}=Se.target;if(Ae){const Re=jr(Ae),_e=Se.target.closest(".media-video");_e&&(_e.dataset.formattedDuration=Re)}}}}),s("div",{class:"media-play",children:s(H,{icon:"play",size:"xl"})})]}),!o&&!q&&s(Br,{alt:d,lang:r,index:c})]})})}else if(T==="audio"||K){const Y=jr(_.duration);return s(oe,{children:s(z,{class:`media media-audio ${e}`,"data-formatted-duration":o?void 0:Y,"data-has-alt":!q||void 0,onClick:l,style:!o&&ie,children:[o?s("audio",{src:g||y,preload:"none",controls:!0,autoPlay:!0}):h?s("img",{src:h,alt:q?"":d,width:b,height:M,"data-orientation":x,loading:"lazy",onError:ge=>{var ee,J;try{(J=(ee=ge.target)==null?void 0:ee.remove)==null||J.call(ee)}catch{}}}):null,!o&&s(U,{children:[s("div",{class:"media-play",children:s(H,{icon:"play",size:"xl"})}),!q&&s(Br,{alt:d,lang:r,index:c})]})]})})}}function od(e){return URL.parse(e,location.origin)}const oo=it(rd,(e,t)=>{const n=e.media||{},r=t.media||{};return(n==null?void 0:n.id)===(r==null?void 0:r.id)&&n.url===r.url&&e.to===t.to&&e.class===t.class}),id=280,sd=140,ad=zi({limit:1,interval:1e3});function cd(e,t){return t.v1.accounts.$select(e).fetch()}const ld=fo(ad(cd)),dn={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"},ud=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),dd=new Intl.RelativeTimeFormat,Mi=80;function fd(e){var t;return(t=e==null?void 0:e.options)!=null&&t.length?`📊:
${e.options.map(n=>`- ${n.title}${n.votesCount>=0?` (${n.votesCount})`:""}`).join(`
`)}`:""}function Ur(e){const{spoilerText:t,content:n,poll:r}=e;return(t?`${t}

`:"")+cr(n)+fd(r)}const Si=it(({post:e,instance:t,previewMode:n})=>{const{content:r,emojis:o,language:i,mentions:a,url:u}=e;return s("div",{lang:i,dir:"auto",class:"inner-content",onClick:$l({mentions:a,instance:t,previewMode:n,statusURL:u}),dangerouslySetInnerHTML:{__html:ws(r,{emojis:o,postEnhanceDOM:c=>{c.querySelectorAll('a.u-url[target="_blank"]').forEach(l=>{/http/i.test(l.innerText.trim())||l.removeAttribute("target")})}})}})},(e,t)=>{const{post:n}=e,{post:r}=t;return n.content===r.content}),hd={s:"small",m:"medium",l:"large"},pd=st(e=>{if(e=e==null?void 0:e.trim(),(e==null?void 0:e.length)>500)return null;const n=Aa(e)[0];return n!=null&&n.lang&&(n==null?void 0:n.accuracy)>.5?n.lang:null});function Ut({statusID:e,status:t,instance:n,size:r="m",contentTextWeight:o,readOnly:i,enableCommentHint:a,withinContext:u,skeleton:c,enableTranslate:l,forceTranslate:f,previewMode:d,onMediaClick:p,quoted:m,onStatusLinkClick:h=()=>{},showFollowedTags:g,allowContextMenu:y,showActionsBar:T,showReplyParent:_,mediaFirst:E}){var Uo,Wo,Ko;if(c)return s("div",{class:`status skeleton ${E?"status-media-first small":""}`,children:[!E&&s(nt,{size:"xxl"}),s("div",{class:"container",children:[s("div",{class:"meta",children:[(r==="s"||E)&&s(nt,{size:"m"})," ███ ████████"]}),s("div",{class:"content-container",children:[E&&s("div",{class:"media-first-container"}),s("div",{class:`content ${E?"media-first-content":""}`,children:s("p",{children:"████ ████████"})})]})]})]});const{masto:w,instance:b,authenticated:M}=Xn({instance:n}),{instance:A}=Xn(),O=b===A;let P=tt(e||(t==null?void 0:t.id),b);const x=wn(W);if(t||(t=x.statuses[P]||x.statuses[e],P=tt(t==null?void 0:t.id,b)),!t)return null;const{account:{acct:S,avatar:V,avatarStatic:B,id:D,url:$,displayName:k,username:R,emojis:L,bot:z,group:F},id:C,repliesCount:K,reblogged:Z,reblogsCount:ne,favourited:le,favouritesCount:Te,bookmarked:he,poll:ve,muted:ye,sensitive:ie,spoilerText:de,visibility:q,language:oe,editedAt:Ee,filtered:ct,card:Y,createdAt:ge,inReplyToId:ee,inReplyToAccountId:J,content:pe,mentions:ue,mediaAttachments:ae,reblog:ze,uri:Le,url:Ve,emojis:Se,tags:Ae,pinned:Re,_deleted:_e,_pinned:Zt,emojiReactions:It}=t,[$t,Yt]=te(null);se(()=>{if(!pe||oe)return;let v;return v=setTimeout(()=>{let N=pd(cr(pe,{preProcess:Q=>{Q.querySelectorAll(".mention, .hashtag, pre, code, a:has(.invisible)").forEach(ce=>{ce.remove()}),Q.querySelectorAll("a").forEach(ce=>{const Ce=ce.innerText.trim();(Ce.startsWith("https://")||Ce.startsWith("http://"))&&ce.remove()})}}));Yt(N)},1e3),()=>clearTimeout(v)},[pe,oe]);const we=oe||$t,qt=!!(ae!=null&&ae.length);E&&qt&&(r="s");const lt=fe(()=>ho(),[]),Qe=fe(()=>lt&&lt===D,[D,lt]),hr=De(Fs),ut=!Qe&&!i&&!d&&Mo(ct,hr);if((ut==null?void 0:ut.action)==="hide")return null;const re=v=>{v.shiftKey};if(r!=="l"&&ut)return s(Td,{status:t,filterInfo:ut,instance:b,containerProps:{onMouseEnter:re},showFollowedTags:!0,quoted:m});const be=new Date(ge),He=new Date(Ee);let Ne=ue==null?void 0:ue.find(v=>v.id===J);!Ne&&J===C&&(Ne={url:$,username:R,displayName:k});const[xe,vt]=te(Ne);if(!u&&!xe&&J){const v=W.accounts[J];v?vt(v):ld(J,w).then(N=>{vt(N),W.accounts[N.id]=N}).catch(N=>{})}const En=J===lt||(ue==null?void 0:ue.find(v=>v.id===lt)),je=fe(()=>!!(Zo.account.get("preferences")||{})["reading:expand:spoilers"],[]),xn=fe(()=>{var N;return((N=(Zo.account.get("preferences")||{})["reading:expand:media"])==null?void 0:N.toLowerCase())||"default"},[]),Ke=d||je||!!x.spoilers[C],dt=d||xn==="show_all"||!!x.spoilersMedia[C];if(ze)return F?s("div",{"data-state-post-id":P,class:"status-group",onMouseEnter:re,children:[s("div",{class:"status-pre-meta",children:[s(H,{icon:"group",size:"l",alt:"Group"})," ",s(an,{account:t.account,instance:b,showAvatar:!0})]}),s(Ut,{status:e?null:ze,statusID:e?ze.id:null,instance:b,size:r,contentTextWeight:o,readOnly:i,mediaFirst:E})]}):s("div",{"data-state-post-id":P,class:"status-reblog",onMouseEnter:re,children:[s("div",{class:"status-pre-meta",children:[s(H,{icon:"rocket",size:"l"})," ",s(an,{account:t.account,instance:b,showAvatar:!0})," ",s("span",{children:"boosted"})]}),s(Ut,{status:e?null:ze,statusID:e?ze.id:null,instance:b,size:r,contentTextWeight:o,readOnly:i,enableCommentHint:!0,mediaFirst:E})]});const pr=Ie(({children:v})=>s("div",{"data-state-post-id":P,class:"status-followed-tags",onMouseEnter:re,children:[s("div",{class:"status-pre-meta",children:[s(H,{icon:"hashtag",size:"l"})," ",x.statusFollowedTags[P].slice(0,3).map(N=>s(jt,{to:b?`/${b}/t/${N}`:`/t/${N}`,class:"status-followed-tag-item",children:N},N))]}),v]}),[P,b,x.statusFollowedTags[P]]),mr=g&&((Uo=x.statusFollowedTags[P])!=null&&Uo.length)?pr:U,me=r==="l",[yt,Gt]=te(f),_t=us(!0),ta=x.settings.contentTranslationHideLanguages||[],{contentTranslation:gr,contentTranslationAutoInline:ko}=x.settings;gr||(l=!1);const Ao=fe(()=>{if(!gr||!ko||i||u&&!me||d||de||ie||ve||Y||ae!=null&&ae.length)return!1;const v=Hr(pe);return v>0&&v<=sd},[gr,ko,i,u,me,d,de,ie,ve,Y,ae,pe]),[vr,Mn]=te(!1),[na,yr]=te(!1),Io=qn(),$o=qn(),ra=qn(),_r="Read more →",Lt=j(null),Xt="Sorry, your current logged-in instance can't interact with this post from another instance.",Lo=Ie(()=>Math.max(Math.round((de.length+Hr(pe))/140)||1,1),[de,pe]),Co=yn(be),Po=Ee&&yn(He);let Jt=M&&q!=="direct"&&q!=="private";q==="private"&&Qe&&(Jt=!0);const Sn=v=>{var N;if(!O||!M)return alert(Xt);(v!=null&&v.shiftKey||(N=v==null?void 0:v.syntheticEvent)!=null&&N.shiftKey)&&Ka({replyToStatus:t})||zn({replyToStatus:t})},br=fe(()=>ae.some(v=>{var N,Q;return!((Q=(N=v.description)==null?void 0:N.trim)!=null&&Q.call(N))}),[ae]),Oo=fe(()=>Math.floor((new Date-be)/(1e3*60*60*24*30)),[be]),df=async()=>{if(!O||!M)return alert(Xt),!1;try{if(!Z){let v="Boost this post?";if(br&&(v+=`

⚠️ Some media have no descriptions.`),!confirm(v))return!1}if(W.statuses[P]={...t,reblogged:!Z,reblogsCount:ne+(Z?-1:1)},Z){const v=await w.v1.statuses.$select(C).unreblog();return Ze(v,b),!0}else{const v=await w.v1.statuses.$select(C).reblog();return Ze(v,b),!0}}catch{return W.statuses[P]=t,!1}},wr=async()=>{if(!O||!M)return alert(Xt),!1;try{if(W.statuses[P]={...t,reblogged:!Z,reblogsCount:ne+(Z?-1:1)},Z){const v=await w.v1.statuses.$select(C).unreblog();Ze(v,b)}else{const v=await w.v1.statuses.$select(C).reblog();Ze(v,b)}return!0}catch{return W.statuses[P]=t,!1}},Do=async()=>{if(!O||!M)return alert(Xt),!1;try{if(W.statuses[P]={...t,favourited:!le,favouritesCount:Te+(le?-1:1)},le){const v=await w.v1.statuses.$select(C).unfavourite();Ze(v,b)}else{const v=await w.v1.statuses.$select(C).favourite();Ze(v,b)}return!0}catch{return W.statuses[P]=t,!1}},Tr=async()=>{try{const v=await Do();!me&&v&&$e(le?`Unliked @${R||S}'s post`:`Liked @${R||S}'s post`)}catch{}},Ro=async()=>{if(Fn("@mastodon/post-bookmark")){if(!O||!M)return alert(Xt),!1;try{if(W.statuses[P]={...t,bookmarked:!he},he){const v=await w.v1.statuses.$select(C).unbookmark();Ze(v,b)}else{const v=await w.v1.statuses.$select(C).bookmark();Ze(v,b)}return!0}catch{return W.statuses[P]=t,!1}}},No=async()=>{try{const v=await Ro();!me&&v&&$e(he?`Unbookmarked @${R||S}'s post`:`Bookmarked @${R||S}'s post`)}catch{}},kn=!!we&&we!==_t&&!to([we],[_t])&&!ta.find(v=>we===v||to([we],[v])),Fo=j(),zo=j();async function oa(v){var ce,Ce,Ct,Er;v&&(Fo.current=w.v1.statuses.$select(e).rebloggedBy.list({limit:Mi}),zo.current=w.v1.statuses.$select(e).favouritedBy.list({limit:Mi}));const[{value:N},{value:Q}]=await Promise.allSettled([Fo.current.next(),zo.current.next()]);if((ce=N.value)!=null&&ce.length||(Ce=Q.value)!=null&&Ce.length){const bt=[];return(Ct=N.value)!=null&&Ct.length&&bt.push(...N.value.map(wt=>(wt._types=["reblog"],wt))),(Er=Q.value)!=null&&Er.length&&bt.push(...Q.value.map(wt=>(wt._types=["favourite"],wt))),{value:bt,done:N.done&&Q.done}}return{value:[],done:!0}}const ia=j(),Ho=["public","unlisted"].includes(q),sa=["public","unlisted","private"].includes(q),Vo=s(U,{children:[!me&&O&&s(U,{children:s("div",{class:"menu-control-group-horizontal status-menu",children:[s(ke,{onClick:Sn,children:[s(H,{icon:"comment"}),s("span",{children:K>0?mt(K):"Reply"})]}),s(Ar,{subMenu:!0,confirmLabel:s(U,{children:[s(H,{icon:"rocket"}),s("span",{children:Z?"Unboost":"Boost"})]}),className:`menu-reblog ${Z?"checked":""}`,menuExtras:s(ke,{onClick:()=>{zn({draftStatus:{status:`
${Ve}`}})},children:[s(H,{icon:"quote"}),s("span",{children:"Quote"})]}),menuFooter:br&&!Z?s("div",{class:"footer",children:[s(H,{icon:"alert"}),"Some media have no descriptions."]}):Oo>=3&&s("div",{class:"footer",children:[s(H,{icon:"info"}),s("span",{children:["Old post (",s("strong",{children:dd.format(-Oo,"month")}),")"]})]}),disabled:!Jt,onClick:async()=>{try{const v=await wr();!me&&v&&$e(Z?`Unboosted @${R||S}'s post`:`Boosted @${R||S}'s post`)}catch{}},children:[s(H,{icon:"rocket"}),s("span",{children:ne>0?mt(ne):Z?"Unboost":"Boost…"})]}),s(ke,{onClick:Tr,className:`menu-favourite ${le?"checked":""}`,children:[s(H,{icon:"heart"}),s("span",{children:Te>0?mt(Te):le?"Unlike":"Like"})]}),Fn("@mastodon/post-bookmark")&&s(ke,{onClick:No,className:`menu-bookmark ${he?"checked":""}`,children:[s(H,{icon:"bookmark"}),s("span",{children:he?"Unbookmark":"Bookmark"})]})]})}),!me&&O&&(me||T)&&s(tn,{}),(me||T)&&s(U,{children:s(ke,{onClick:()=>{W.showGenericAccounts={heading:"Boosted/Liked by…",fetchAccounts:oa,instance:b,showReactions:!0,postID:P}},children:[s(H,{icon:"react"}),s("span",{children:["Boosted/Liked by",s("span",{class:"more-insignificant",children:"…"})]})]})}),!E&&s(U,{children:[(l||!we||kn)&&s(tn,{}),l?s("div",{class:un?"menu-horizontal":"",children:[s(ke,{disabled:yt,onClick:()=>{Gt(!0)},children:[s(H,{icon:"translate"}),s("span",{children:"Translate"})]}),un&&s(ke,{onClick:()=>{const v=Ur(t);v&&yi(v,we)},children:[s(H,{icon:"speak"}),s("span",{children:"Speak"})]})]}):(!we||kn)&&s("div",{class:un?"menu-horizontal":"",children:[s(li,{to:`${b?`/${b}`:""}/s/${C}?translate=1`,children:[s(H,{icon:"translate"}),s("span",{children:"Translate"})]}),un&&s(ke,{onClick:()=>{const v=Ur(t);v&&yi(v,we)},children:[s(H,{icon:"speak"}),s("span",{children:"Speak"})]})]})]}),(!me&&O||l||!we||kn)&&s(tn,{}),!me&&s(U,{children:s(li,{to:b?`/${b}/s/${C}`:`/s/${C}`,onClick:v=>{h(v,t)},children:[s(H,{icon:"arrows-right"}),s("small",{children:["View post by @",R||S,s("br",{}),s("span",{class:"more-insignificant",children:[dn[q]," • ",Co]})]})]})}),!!Ee&&s(U,{children:s(ke,{onClick:()=>{Mn(C)},children:[s(H,{icon:"history"}),s("small",{children:["Show Edit History",s("br",{}),s("span",{class:"more-insignificant",children:["Edited: ",Po]})]})]})}),s(ke,{href:Ve,target:"_blank",children:[s(H,{icon:"external"}),s("small",{class:"menu-double-lines",children:bd(Ve)})]}),s("div",{class:"menu-horizontal",children:[s(ke,{onClick:()=>{try{navigator.clipboard.writeText(Ve),$e("Link copied")}catch{$e("Unable to copy link")}},children:[s(H,{icon:"link"}),s("span",{children:"Copy"})]}),Ho&&(navigator==null?void 0:navigator.share)&&((Wo=navigator==null?void 0:navigator.canShare)==null?void 0:Wo.call(navigator,{url:Ve}))&&s(ke,{onClick:()=>{try{navigator.share({url:Ve})}catch{alert("Sharing doesn't seem to work.")}},children:[s(H,{icon:"share"}),s("span",{children:"Share…"})]})]}),Ho&&me&&s(ke,{onClick:()=>{yr(!0)},children:[s(H,{icon:"code"}),s("span",{children:"Embed post"})]}),(Qe||En)&&s(tn,{}),(Qe||En)&&s(ke,{onClick:async()=>{try{const v=await w.v1.statuses.$select(C)[ye?"unmute":"mute"]();Ze(v,b),$e(ye?"Conversation unmuted":"Conversation muted")}catch{$e(ye?"Unable to unmute conversation":"Unable to mute conversation")}},children:ye?s(U,{children:[s(H,{icon:"unmute"}),s("span",{children:"Unmute conversation"})]}):s(U,{children:[s(H,{icon:"mute"}),s("span",{children:"Mute conversation"})]})}),Qe&&sa&&s(ke,{onClick:async()=>{try{const v=await w.v1.statuses.$select(C)[Re?"unpin":"pin"]();Ze(v,b),$e(Re?"Post unpinned from profile":"Post pinned to profile")}catch{$e(Re?"Unable to unpin post":"Unable to pin post")}},children:Re?s(U,{children:[s(H,{icon:"unpin"}),s("span",{children:"Unpin from profile"})]}):s(U,{children:[s(H,{icon:"pin"}),s("span",{children:"Pin to profile"})]})}),Qe&&s("div",{class:"menu-horizontal",children:[Fn("@mastodon/post-edit")&&s(ke,{onClick:()=>{zn({editStatus:t})},children:[s(H,{icon:"pencil"}),s("span",{children:"Edit"})]}),me&&s(Ar,{subMenu:!0,confirmLabel:s(U,{children:[s(H,{icon:"trash"}),s("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await w.v1.statuses.$select(C).remove();const v=Vi(C,b);v._deleted=!0,$e("Deleted")}catch{$e("Unable to delete")}})()},children:[s(H,{icon:"trash"}),s("span",{children:"Delete…"})]})]}),!Qe&&me&&s(U,{children:[s(tn,{}),s(ke,{className:"danger",onClick:()=>{W.showReportModal={account:t.account,post:t}},children:[s(H,{icon:"flag"}),s("span",{children:"Report post…"})]})]})]}),jo=j(),[An,Qt]=te(!1),[In,$n]=te({}),Ln=y||!me&&!d&&!_e&&!m,aa=Ns(ud&&Ln?v=>{var Ce;if(v.pointerType==="mouse")return;const{clientX:N,clientY:Q}=((Ce=v.touches)==null?void 0:Ce[0])||v,ce=v.target.closest("a");ce&&Lt.current.contains(ce)&&!ce.getAttribute("href").startsWith("#")||(v.preventDefault(),$n({anchorPoint:{x:N,y:Q},direction:"right"}),Qt(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Cn=!i&&!d&&!m,ca=Nt("r, shift+r",Sn,{enabled:Cn}),la=Nt("f, l",Tr,{enabled:Cn}),ua=Nt("d",No,{enabled:Cn}),da=Nt("shift+b",()=>{(async()=>{try{const v=await wr();!me&&v&&$e(Z?`Unboosted @${R||S}'s post`:`Boosted @${R||S}'s post`)}catch{}})()},{enabled:Cn&&Jt}),fa=Nt("x",v=>{const N=document.activeElement.closest(".status-link, .status-focus");if(N){const Q=N.querySelector(".spoiler-button:not(.spoiling)");if(Q)v.stopPropagation(),Q.click();else{const ce=N.querySelector(".spoiler-media-button:not(.spoiling)");ce&&(v.stopPropagation(),ce.click())}}}),Pn=ae.slice(0,me?void 0:4),On=ae.length>1&&Pn.some(v=>!!v.description&&!Bs(v.description)),ha=fe(()=>{if(!On)return null;const v=[];return Pn.forEach((N,Q)=>{if(!N.description)return;const ce=v.findIndex(Ce=>Ce.media.description===N.description);ce===-1?v.push({media:N,indices:[Q]}):v[ce].indices.push(Q)}),v.map(({media:N,indices:Q})=>s("div",{"data-caption-index":Q.map(ce=>ce+1).join(" "),onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),W.showMediaAlt={alt:N.description,lang:we}},title:N.description,children:[s("sup",{children:Q.map(ce=>ce+1).join(" ")})," ",N.description]},N.id))},[On,Pn,we]),en=fe(()=>{var v;return!!ee&&J===((v=t.account)==null?void 0:v.id)||!!x.statusThreadNumber[P]},[ee,J,(Ko=t.account)==null?void 0:Ko.id,x.statusThreadNumber[P]]),pa=fe(()=>a&&!en&&!u&&!ee&&q==="public"&&K>0,[a,en,u,ee,K,q]),Bo=fe(()=>{if(Y||ve||ie||de||ae!=null&&ae.length||en||u||ee||K<=0||!/[??？︖❓❔⁇⁈⁉¿‽؟]/.test(pe))return!1;const Q=Hr(pe);if(Q>0&&Q<=id)return!0},[Y,ve,ie,de,ae,ze,en,u,ee,K,pe]);return s(mr,{children:[_&&!!(ee&&J)&&s(wd,{sKey:P}),s("article",{"data-state-post-id":P,ref:v=>{var Q;Lt.current=v;const N=((Q=v==null?void 0:v.closest)==null?void 0:Q.call(v,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||v;ca.current=N,la.current=N,ua.current=N,da.current=N,fa.current=N},tabindex:"-1",class:`status ${!u&&ee&&xe?"status-reply-to":""} visibility-${q} ${Zt?"status-pinned":""} ${hd[r]} ${_e?"status-deleted":""} ${m?"status-card":""} ${An?"status-menu-open":""} ${E&&qt?"status-media-first":""}`,onMouseEnter:re,onContextMenu:v=>{var ce,Ce;if(!Ln||v.metaKey)return;const N=v.target.closest("a");if(N&&Lt.current.contains(N)&&!N.getAttribute("href").startsWith("#"))return;const Q=(ce=window.getSelection)==null?void 0:ce.call(window);if(Q.toString().length>0){const{anchorNode:Ct}=Q;if((Ce=Lt.current)!=null&&Ce.contains(Ct))return}v.preventDefault(),$n({anchorPoint:{x:v.clientX,y:v.clientY},direction:"right"}),Qt(!0)},...Ln?aa():{},children:[Ln&&s(Qi,{ref:jo,state:An?"open":void 0,...In,onClose:v=>{var N,Q,ce;Qt(!1),(v==null?void 0:v.reason)==="click"&&((ce=(Q=(N=Lt.current)==null?void 0:N.closest("[tabindex]"))==null?void 0:Q.focus)==null||ce.call(Q))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var v,N;(N=(v=jo.current)==null?void 0:v.closeMenu)==null||N.call(v)}},overflow:"auto",boundingBoxPadding:cs(),unmountOnClose:!0,children:Vo}),T&&r!=="l"&&!d&&!i&&!_e&&!m&&s("div",{class:`status-actions ${An==="actions-bar"?"open":""}`,ref:ia,children:[s(Rt,{size:"s",title:"Reply",alt:"Reply",class:"reply-button",icon:"comment",iconSize:"m",onClick:Sn}),s(Rt,{size:"s",checked:le,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",iconSize:"m",count:Te,onClick:Tr}),s("button",{type:"button",title:"More",class:"plain more-button",onClick:v=>{v.preventDefault(),v.stopPropagation(),$n({anchorRef:{current:v.currentTarget},align:"start",direction:"left",gap:0,shift:-8}),Qt("actions-bar")},children:s(H,{icon:"more2",size:"m",alt:"More"})})]}),r!=="l"&&s("div",{class:"status-badge",children:[Z&&s(H,{class:"reblog",icon:"rocket",size:"s"}),le&&s(H,{class:"favourite",icon:"heart",size:"s"}),he&&s(H,{class:"bookmark",icon:"bookmark",size:"s"}),Zt&&s(H,{class:"pin",icon:"pin",size:"s"})]}),r!=="s"&&s("a",{href:$,tabindex:"-1",title:`@${S}`,onClick:v=>{v.preventDefault(),v.stopPropagation(),W.showAccount={account:t.account,instance:b}},children:s(nt,{url:B||V,size:"xxl",squircle:z})}),s("div",{class:"container",children:[s("div",{class:"meta",children:[s("span",{class:"meta-name",children:s(an,{account:t.account,instance:b,showAvatar:r==="s",showAcct:me})})," ",r!=="l"&&(_e?s("span",{class:"status-deleted-tag",children:"Deleted"}):Ve&&!d&&!i&&!m?s(jt,{to:b?`/${b}/s/${C}`:`/s/${C}`,onClick:v=>{v.metaKey||v.ctrlKey||v.shiftKey||v.altKey||v.which===2||(v.preventDefault(),v.stopPropagation(),h==null||h(v,t),$n({anchorRef:{current:v.currentTarget},align:"end",direction:"bottom",gap:4}),Qt(!0))},class:`time ${An&&(In!=null&&In.anchorRef)?"is-open":""}`,children:[pa&&!Bo?s(H,{icon:"comment2",size:"s",alt:`${K} ${K===1?"reply":"replies"}`}):q!=="public"&&q!=="direct"&&s(H,{icon:ro[q],alt:dn[q],size:"s"})," ",s(Mt,{datetime:be,format:"micro"}),!d&&!i&&s(H,{icon:"more2",class:"more"})]}):s("span",{class:"time",children:[q!=="public"&&q!=="direct"&&s(U,{children:[s(H,{icon:ro[q],alt:dn[q],size:"s"})," "]}),s(Mt,{datetime:be,format:"micro"})]}))]}),q==="direct"&&s(U,{children:[s("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!u&&s(U,{children:en?s("div",{class:"status-thread-badge",children:[s(H,{icon:"thread",size:"s"}),"Thread",x.statusThreadNumber[P]?` ${x.statusThreadNumber[P]}/X`:""]}):!!ee&&!!xe&&(!!de||!ue.find(v=>v.id===J))&&s("div",{class:"status-reply-badge",children:[s(H,{icon:"reply"})," ",s(an,{account:xe,instance:b,short:!0})]})}),s("div",{class:`content-container ${de||ie?"has-spoiler":""} ${Ke?"show-spoiler":""} ${dt?"show-media":""}`,"data-content-text-weight":o?Lo():null,style:(me||o)&&{"--content-text-weight":Lo()},children:E&&qt?s(U,{children:[(!!de||!!ie)&&!je&&s(U,{children:[!!de&&s("span",{class:"spoiler-content media-first-spoiler-content",lang:we,dir:"auto",ref:Io,"data-read-more":_r,children:[s(Bt,{text:de,emojis:Se})," "]}),s("button",{class:`light spoiler-button media-first-spoiler-button ${Ke?"spoiling":""}`,type:"button",onClick:v=>{v.preventDefault(),v.stopPropagation(),Ke?(delete W.spoilers[C],je||delete W.spoilersMedia[C]):(W.spoilers[C]=!0,je||(W.spoilersMedia[C]=!0))},children:[s(H,{icon:Ke?"eye-open":"eye-close"})," ",Ke?"Show less":"Show content"]})]}),s(gd,{mediaAttachments:ae,language:we,postID:C,instance:b}),!!pe&&s("div",{class:"media-first-content content",ref:$o,children:s(Si,{post:t,instance:b,previewMode:d})})]}):s(U,{children:[!!de&&s(U,{children:[s("div",{class:"content spoiler-content",lang:we,dir:"auto",ref:Io,"data-read-more":_r,children:s("p",{children:s(Bt,{text:de,emojis:Se})})}),je||d?s("div",{class:"spoiler-divider",children:[s(H,{icon:"eye-open"})," Content warning"]}):s("button",{class:`light spoiler-button ${Ke?"spoiling":""}`,type:"button",onClick:v=>{v.preventDefault(),v.stopPropagation(),Ke?(delete W.spoilers[C],je||delete W.spoilersMedia[C]):(W.spoilers[C]=!0,je||(W.spoilersMedia[C]=!0))},children:[s(H,{icon:Ke?"eye-open":"eye-close"})," ",Ke?"Show less":"Show content"]})]}),!!pe&&s("div",{class:"content",ref:$o,"data-read-more":_r,children:[s(Si,{post:t,instance:b,previewMode:d}),s(Ed,{id:C,instance:b,level:m})]}),!!ve&&s(ku,{lang:we,poll:ve,readOnly:i||!O||!M,onUpdate:v=>{W.statuses[P].poll=v},refresh:()=>w.v1.polls.$select(ve.id).fetch().then(v=>{W.statuses[P].poll=v}).catch(v=>{}),votePoll:v=>w.v1.polls.$select(ve.id).votes.create({choices:v}).then(N=>{W.statuses[P].poll=N}).catch(N=>{})}),((l||Ao)&&!!pe.trim()&&!!cr(ar(pe,Se))&&kn||yt)&&s(ou,{forceTranslate:yt||Ao,mini:!me&&!u,sourceLanguage:we,autoDetected:$t,text:Ur(t)}),!d&&ie&&!!ae.length&&xn!=="show_all"&&s("button",{class:`plain spoiler-media-button ${dt?"spoiling":""}`,type:"button",hidden:!je&&!!de,onClick:v=>{v.preventDefault(),v.stopPropagation(),dt?delete W.spoilersMedia[C]:W.spoilersMedia[C]=!0},children:[s(H,{icon:dt?"eye-open":"eye-close"})," ",dt?"Show less":"Show media"]}),!!ae.length&&(ae.length>1&&(me||u&&r==="m")?s("div",{class:"media-large-container",children:ae.map((v,N)=>s("div",{class:"media-container media-eq1",children:s(oo,{media:v,autoAnimate:!0,showCaption:!0,allowLongerCaption:!pe,lang:we,to:`/${b}/s/${C}?${u?"media":"media-only"}=${N+1}`,onClick:p?Q=>p(Q,N,v,t):void 0})},v.id))}):s(md,{lang:we,enabled:On,captionChildren:ha,children:s("div",{ref:ra,class:`media-container media-eq${ae.length} ${ae.length>2?"media-gt2":""} ${ae.length>4?"media-gt4":""}`,children:Pn.map((v,N)=>s(oo,{media:v,autoAnimate:me,showCaption:ae.length===1,allowLongerCaption:!pe&&ae.length===1,lang:we,altIndex:On&&!!v.description&&N+1,to:`/${b}/s/${C}?${u?"media":"media-only"}=${N+1}`,onClick:p?Q=>{p(Q,N,v,t)}:void 0},v.id))})})),!!Y&&/^https/i.test(Y==null?void 0:Y.url)&&!ie&&!de&&!ve&&!ae.length&&!x.statusQuotes[P]&&s(vd,{card:Y,selfReferential:(Y==null?void 0:Y.url)===t.url||(Y==null?void 0:Y.url)===t.uri,instance:A})]})}),!me&&Bo&&s("div",{class:"content-comment-hint insignificant",children:[s(H,{icon:"comment2",alt:"Replies"})," ",K]}),me&&s(U,{children:[s("div",{class:"extra-meta",children:_e?s("span",{class:"status-deleted-tag",children:"Deleted"}):s(U,{children:[s("span",{children:dn[q]})," •"," ",s("a",{href:Ve,target:"_blank",rel:"noopener noreferrer",children:s("time",{class:"created",datetime:be.toISOString(),title:be.toLocaleString(),children:Co})}),Ee&&s(U,{children:[" ","• ",s(H,{icon:"pencil",alt:"Edited"})," ",s("time",{tabIndex:"0",class:"edited",datetime:He.toISOString(),onClick:()=>{Mn(C)},children:Po})]})]})}),!!(It!=null&&It.length)&&s("div",{class:"emoji-reactions",children:It.map(v=>{const{name:N,count:Q,me:ce,url:Ce,staticUrl:Ct}=v;if(Ce)return s("span",{class:`emoji-reaction tag ${ce?"":"insignificant"}`,children:[s(eo,{alt:N,url:Ce,staticUrl:Ct})," ",Q]});if(/^:.+?:$/.test(N)){const bt=Se.find(wt=>wt.shortcode===N.replace(/^:/,"").replace(/:$/,""));if(bt)return s("span",{class:`emoji-reaction tag ${ce?"":"insignificant"}`,children:[s(eo,{alt:N,url:bt.url,staticUrl:bt.staticUrl})," ",Q]})}return s("span",{class:`emoji-reaction tag ${ce?"":"insignificant"}`,children:[N," ",Q]})})}),s("div",{class:`actions ${_e?"disabled":""}`,children:[s("div",{class:"action has-count",children:s(Rt,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:K,onClick:Sn})}),s(Ar,{disabled:!Jt,onClick:wr,confirmLabel:s(U,{children:[s(H,{icon:"rocket"}),s("span",{children:Z?"Unboost":"Boost"})]}),menuExtras:s(ke,{onClick:()=>{zn({draftStatus:{status:`
${Ve}`}})},children:[s(H,{icon:"quote"}),s("span",{children:"Quote"})]}),menuFooter:br&&!Z&&s("div",{class:"footer",children:[s(H,{icon:"alert"}),"Some media have no descriptions."]}),children:s("div",{class:"action has-count",children:s(Rt,{checked:Z,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:ne,disabled:!Jt})})}),s("div",{class:"action has-count",children:s(Rt,{checked:le,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",count:Te,onClick:Do})}),Fn("@mastodon/post-bookmark")&&s("div",{class:"action",children:s(Rt,{checked:he,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:Ro})}),s(ls,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",menuButton:s("div",{class:"action",children:s("button",{type:"button",title:"More",class:"plain more-button",children:s(H,{icon:"more",size:"l",alt:"More"})})}),children:Vo})]})]})]}),!!vr&&s(Zr,{onClick:v=>{v.target===v.currentTarget&&Mn(!1)},children:s(yd,{statusID:vr,instance:b,fetchStatusHistory:()=>w.v1.statuses.$select(vr).history.list(),onClose:()=>{var v;Mn(!1),(v=Lt.current)==null||v.focus()}})}),!!na&&s(Zr,{onClick:v=>{v.target===v.currentTarget&&yr(!1)},children:s(_d,{post:t,instance:b,onClose:()=>{yr(!1)}})})]})]})}function md(e){const{enabled:t,children:n,lang:r,captionChildren:o}=e;return!t||!o?n:s("figure",{class:"media-figure-multiple",children:[n,s("figcaption",{lang:r,dir:"auto",children:o})]})}function gd(e){const{mediaAttachments:t,language:n,postID:r,instance:o}=e,i=t.length>1,a=j(),[u,c]=te(0);return se(()=>{let l=()=>{const{clientWidth:f,scrollLeft:d}=a.current,p=Math.round(Math.abs(d)/f);c(p)};return a.current&&a.current.addEventListener("scroll",l,{passive:!0}),()=>{a.current&&a.current.removeEventListener("scroll",l)}},[]),s(U,{children:[s("div",{class:"media-first-container",children:[s("div",{class:"media-first-carousel",ref:a,children:t.map((l,f)=>s("div",{class:"media-first-item",children:s(oo,{media:l,lang:n,to:`/${o}/s/${r}?media=${f+1}`})},l.id))}),i&&s("div",{class:"media-carousel-controls",children:[s("div",{class:"carousel-indexer",children:[u+1,"/",t.length]}),s("label",{class:"media-carousel-button",children:s("button",{type:"button",class:"carousel-button",hidden:u===0,onClick:l=>{l.preventDefault(),l.stopPropagation(),a.current.focus(),a.current.scrollTo({left:a.current.clientWidth*(u-1)*(Qr()?-1:1),behavior:"smooth"})},children:s(H,{icon:"arrow-left"})})}),s("label",{class:"media-carousel-button",children:s("button",{type:"button",class:"carousel-button",hidden:u===t.length-1,onClick:l=>{l.preventDefault(),l.stopPropagation(),a.current.focus(),a.current.scrollTo({left:a.current.clientWidth*(u+1)*(Qr()?-1:1),behavior:"smooth"})},children:s(H,{icon:"arrow-right"})})})]})]}),i&&s("div",{class:"media-carousel-dots",style:{"--dots-count":t.length},children:t.map((l,f)=>s("span",{class:`carousel-dot ${f===u?"active":""}`},l.id))})]})}function ki(e){return bs.toUnicode(URL.parse(e).hostname.replace(/^www\./,"").replace(/\/$/,""))}function Ai(e){return["x.com","twitter.com","threads.net","bsky.app"].includes(e)}function vd({card:e,selfReferential:t,instance:n}){var V;const r=wn(W),{blurhash:o,title:i,description:a,html:u,providerName:c,providerUrl:l,authorName:f,authorUrl:d,width:p,height:m,image:h,imageDescription:g,url:y,type:T,embedUrl:_,language:E,publishedAt:w}=e,b=i||c||f,A=p/m>=1.2?"large":"",[O,P]=te(null);if(se(()=>{b&&h&&!t&&Ma(y)&&Sa(n,y).then(B=>{if(!B)return;const{id:D,url:$}=B;P("#"+$)})},[b,h,t]),r.unfurledLinks[y])return null;const x=/<iframe/i.test(u),S=Ie(B=>{x&&(B.preventDefault(),W.showEmbedModal={html:u,url:y||_,width:p,height:m})},[x]);if(b&&(h||T==="photo"&&o)){const B=ki(y);let D;const $=h&&o?xo(o):null;if(!h){const z=mu(o,44,44),F=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas");F.width=44,F.height=44;const C=F.getContext("2d");C.imageSmoothingEnabled=!1;const K=C.createImageData(44,44);K.data.set(z),C.putImageData(K,0,0),D=F.toDataURL()}const k=Ai(B);return s("a",{href:O||y,target:O?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${k?"card-post":""} ${D?"":A}`,style:{"--average-color":$&&`rgb(${$.join(",")})`},onClick:S,children:[s("div",{class:"card-image",children:s("img",{src:h||D,width:p,height:m,loading:"lazy",alt:g||"",onError:R=>{try{R.target.style.display="none"}catch{}},style:{"--anim-duration":p&&m&&`${Math.min(Math.max(Math.max(p,m)/100,5),120)}s`}})}),s("div",{class:"meta-container",lang:E,children:[s("p",{class:"meta domain",children:[s("span",{class:"domain",children:B})," ",!!w&&s(U,{children:"· "}),!!w&&s(U,{children:s(Mt,{datetime:w,format:"micro"})})]}),s("p",{class:"title",dir:"auto",title:i,children:i}),s("p",{class:"meta",dir:"auto",title:a,children:a||!!w&&s(Mt,{datetime:w,format:"micro"})})]})]})}else{if(T==="photo")return s("a",{href:y,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",onClick:S,children:s("img",{src:_,width:p,height:m,alt:i||a,loading:"lazy",style:{height:"auto",aspectRatio:`${p}/${m}`}})});if(T==="video"&&/youtube/i.test(c)){const B=(V=y.match(/watch\?v=([^&]+)/))==null?void 0:V[1];if(B)return s("a",{class:"card video",onClick:S,children:s("lite-youtube",{videoid:B,nocookie:!0})})}if(b&&!h){const B=ki(y),D=Ai(B);return s("a",{href:O||y,target:O?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${D?"card-post":""} no-image`,lang:E,dir:"auto",onClick:S,children:s("div",{class:"meta-container",children:[s("p",{class:"meta domain",children:[s("span",{class:"domain",children:[s(H,{icon:"link",size:"s"})," ",s("span",{children:B})]})," ",!!w&&s(U,{children:"· "}),!!w&&s(U,{children:s(Mt,{datetime:w,format:"micro"})})]}),s("p",{class:"title",title:i,children:i}),s("p",{class:"meta",title:a||c||f,children:a||c||f})]})})}}}function yd({statusID:e,instance:t,fetchStatusHistory:n=()=>{},onClose:r}){const[o,i]=te("default"),[a,u]=te([]);return se(()=>{i("loading"),(async()=>{try{const c=await n();u(c),i("default")}catch{i("error")}})()},[]),s("div",{id:"edit-history",class:"sheet",children:[!!r&&s("button",{type:"button",class:"sheet-close",onClick:r,children:s(H,{icon:"x"})}),s("header",{children:[s("h2",{children:"Edit History"}),o==="error"&&s("p",{children:"Failed to load history"}),o==="loading"&&s("p",{children:[s(Hi,{abrupt:!0})," Loading…"]})]}),s("main",{tabIndex:"-1",children:a.length>0&&s("ol",{children:a.map(c=>{const{createdAt:l}=c,f=new Date(l);return s("li",{class:"history-item",children:[s("h3",{children:s("time",{children:yn(f,{formatOpts:{weekday:"short",second:"numeric"}})})}),s(Ut,{status:c,instance:t,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},l)})})})]})}function Us(e,t,n=0){var S;const{account:{url:r,displayName:o,acct:i,username:a,emojis:u,bot:c,group:l},id:f,poll:d,spoilerText:p,language:m,editedAt:h,createdAt:g,content:y,mediaAttachments:T,url:_,emojis:E}=e,w=tt(f,t),M=(W.statusQuotes[w]||[]).filter((V,B,D)=>D.findIndex($=>$.url===V.url)===B),A=M.length&&n<=2?M.map(V=>{const{id:B,instance:D}=V,$=tt(B,D),k=W.statuses[$];if(k)return Us(k,D,++n)}).join(""):"",O=new Date(g),P=ar(y,E)+`
`+A+`
`+((S=d==null?void 0:d.options)!=null&&S.length?`
        <p>📊:</p>
        <ul>
        ${d.options.map(V=>`
              <li>
                ${V.title}
                ${V.votesCount>=0?` (${V.votesCount})`:""}
              </li>
            `).join("")}
        </ul>`:"")+(T.length>0?`
`+T.map(V=>{const{description:B,meta:D,previewRemoteUrl:$,previewUrl:k,remoteUrl:R,url:L,type:z}=V,{original:F={},small:C}=D||{},K=(C==null?void 0:C.width)||(F==null?void 0:F.width),Z=(C==null?void 0:C.height)||(F==null?void 0:F.height),ne=R||L,le=$||k,Te=le||ne,he=ne?URL.parse(ne):null,ve=z==="unknown"&&he&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(he.pathname),ye=z==="unknown"&&he&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(he.pathname),ie=z==="image"||z==="unknown"&&le&&!ve&&!ye,de=z==="gifv"||z==="video"||ve,q=z==="audio"||ye;let oe="";return ie?oe=`<img src="${Te}" width="${K}" height="${Z}" alt="${B}" loading="lazy" />`:de?oe=`
                <video src="${ne}" width="${K}" height="${Z}" controls preload="auto" poster="${le}" loading="lazy"></video>
                ${B?`<figcaption>${B}</figcaption>`:""}
              `:q?oe=`
                <audio src="${ne}" controls preload="auto"></audio>
                ${B?`<figcaption>${B}</figcaption>`:""}
              `:oe=`
                <a href="${ne}">📄 ${B||ne}</a>
              `,`<figure>${oe}</figure>`}).join(`
`):""),x=`
    <blockquote lang="${m}" cite="${_}">
      ${p?`
            <details>
              <summary>${p}</summary>
              ${P}
            </details>
          `:P}
      <footer>
        — ${ar(o,u)} (@${i}) <a href="${_}"><time datetime="${O.toISOString()}">${O.toLocaleString()}</time></a>
      </footer>
    </blockquote>
  `;return xu(x)}function _d({post:e,instance:t,onClose:n}){const{account:{url:r,displayName:o,username:i,emojis:a,bot:u,group:c},id:l,poll:f,spoilerText:d,language:p,editedAt:m,createdAt:h,content:g,mediaAttachments:y,url:T,emojis:_}=e,E=Us(e,t);return s("div",{id:"embed-post",class:"sheet",children:[!!n&&s("button",{type:"button",class:"sheet-close",onClick:n,children:s(H,{icon:"x"})}),s("header",{children:s("h2",{children:"Embed post"})}),s("main",{tabIndex:"-1",children:[s("h3",{children:"HTML Code"}),s("textarea",{class:"embed-code",readonly:!0,onClick:w=>{w.target.select()},dir:"auto",children:E}),s("button",{type:"button",onClick:()=>{try{navigator.clipboard.writeText(E),$e("HTML code copied")}catch{$e("Unable to copy HTML code")}},children:[s(H,{icon:"clipboard"})," ",s("span",{children:"Copy"})]}),!!(y!=null&&y.length)&&s("section",{children:[s("p",{children:"Media attachments:"}),s("ol",{class:"links-list",children:y.map(w=>s("li",{children:s("a",{href:w.remoteUrl||w.url,target:"_blank",download:!0,children:w.remoteUrl||w.url})},w.id))})]}),!!(a!=null&&a.length)&&s("section",{children:[s("p",{children:"Account Emojis:"}),s("ul",{children:a.map(w=>s("li",{children:[s("picture",{children:[s("source",{srcset:w.staticUrl,media:"(prefers-reduced-motion: reduce)"}),s("img",{class:"shortcode-emoji emoji",src:w.url,alt:`:${w.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",s("code",{children:[":",w.shortcode,":"]})," (",s("a",{href:w.url,target:"_blank",download:!0,children:"url"}),")",w.staticUrl?s(U,{children:[" ","(",s("a",{href:w.staticUrl,target:"_blank",download:!0,children:"static"}),")"]}):null]},w.shortcode))})]}),!!(_!=null&&_.length)&&s("section",{children:[s("p",{children:"Emojis:"}),s("ul",{children:_.map(w=>s("li",{children:[s("picture",{children:[s("source",{srcset:w.staticUrl,media:"(prefers-reduced-motion: reduce)"}),s("img",{class:"shortcode-emoji emoji",src:w.url,alt:`:${w.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",s("code",{children:[":",w.shortcode,":"]})," (",s("a",{href:w.url,target:"_blank",download:!0,children:"url"}),")",w.staticUrl?s(U,{children:[" ","(",s("a",{href:w.staticUrl,target:"_blank",download:!0,children:"static"}),")"]}):null]},w.shortcode))})]}),s("section",{children:s("small",{children:[s("p",{children:"Notes:"}),s("ul",{children:[s("li",{children:"This is static, unstyled and scriptless. You may need to apply your own styles and edit as needed."}),s("li",{children:"Polls are not interactive, becomes a list with vote counts."}),s("li",{children:"Media attachments can be images, videos, audios or any file types."}),s("li",{children:"Post could be edited or deleted later."})]})]})}),s("h3",{children:"Preview"}),s("output",{class:"embed-preview",dangerouslySetInnerHTML:{__html:E},dir:"auto"}),s("p",{children:s("small",{children:"Note: This preview is lightly styled."})})]})]})}function Rt({checked:e,count:t,class:n,title:r,alt:o,size:i,icon:a,iconSize:u="l",onClick:c,...l}){typeof r=="string"&&(r=[r,r]),typeof o=="string"&&(o=[o,o]);const[f,d]=te(r[0]||""),[p,m]=te(o[0]||"");return se(()=>{e?(d(r[1]||""),m(o[1]||"")):(d(r[0]||""),m(o[0]||""))},[e,r,o]),s("button",{type:"button",title:f,class:`plain ${i?"small":""} ${n} ${e?"checked":""}`,onClick:h=>{c&&(h.preventDefault(),h.stopPropagation(),c(h))},...l,children:[s(H,{icon:a,size:u,alt:p}),!!t&&s(U,{children:[" ",s("small",{title:t,children:mt(t)})]})]})}function bd(e){if(!e)return;const t=URL.parse(e),{host:n,pathname:r}=t,o=r.replace(/\/$/,""),[i,a,u]=o.match(/\/(@[^\/]+)\/(.*)/)||[];return s(U,{children:[bs.toUnicode(n),a?s(U,{children:["/",a,s("wbr",{}),s("span",{class:"more-insignificant",children:["/",u]})]}):s("span",{class:"more-insignificant",children:o})]})}function wd({sKey:e}){const n=wn(W).statusReply[e];if(!n)return null;const{id:r,instance:o}=n,i=Vi(r,o);if(!i)return null;const{sensitive:a,spoilerText:u,account:{avatar:c,avatarStatic:l,bot:f}={},visibility:d,content:p,language:m,filtered:h}=i;if(a||u||!p)return null;const g=tt(r,o),y=zs(i),T=De(Fs),_=Mo(h,T);if((_==null?void 0:_.action)==="hide")return null;const E=(_==null?void 0:_.titlesStr)||"";return s("article",{class:`status compact-reply ${d==="direct"?"visibility-direct":""}`,tabindex:"-1","data-state-post-id":g,children:[s(nt,{url:l||c,squircle:f}),s("div",{class:"content-compact",title:y,lang:m,dir:"auto",children:_?s("b",{class:"status-filtered-badge badge-meta",title:E,children:[s("span",{children:"Filtered"}),s("span",{children:E})]}):s("span",{children:y})})]})}function Td({status:e,filterInfo:t,instance:n,containerProps:r={},showFollowedTags:o,quoted:i}){var V;const a=wn(W),{id:u,account:{avatar:c,avatarStatic:l,bot:f,group:d},createdAt:p,visibility:m,reblog:h}=e,g=!!h,y=(t==null?void 0:t.titlesStr)||"",T=new Date(p),_=zs(e.reblog||e),[E,w]=te(!1),b=Ns(()=>{w(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),M=qn(),A=tt(e.id,n),O=tt(e.id,n)+" "+(tt(h==null?void 0:h.id,n)||""),P=(h==null?void 0:h.id)||u,x=n?`/${n}/s/${P}`:`/s/${P}`,S=o&&!!((V=a.statusFollowedTags[A])!=null&&V.length);return s("div",{class:i?"":g?d?"status-group":"status-reblog":S?"status-followed-tags":"",...r,onContextMenu:B=>{B.preventDefault(),w(!0)},...b(),children:[s("article",{"data-state-post-id":O,class:`status filtered ${i?"status-card":""}`,tabindex:"-1",children:[s("b",{class:"status-filtered-badge clickable badge-meta",title:y,onClick:B=>{B.preventDefault(),w(!0)},children:[s("span",{children:"Filtered"}),s("span",{children:y})]})," ",s(nt,{url:l||c,squircle:f}),s("span",{class:"status-filtered-info",children:[s("span",{class:"status-filtered-info-1",children:[s(an,{account:e.account,instance:n})," ",s(H,{icon:ro[m],alt:dn[m],size:"s"})," ",g?"boosted":S?s("span",{children:a.statusFollowedTags[A].slice(0,3).map(B=>s("span",{class:"status-followed-tag-item",children:["#",B]},B))}):s(Mt,{datetime:T,format:"micro"})]}),s("span",{class:"status-filtered-info-2",children:[g&&s(U,{children:[s(nt,{url:h.account.avatarStatic||h.account.avatar,squircle:f})," "]}),_]})]})]}),!!E&&s(Zr,{onClick:B=>{B.target===B.currentTarget&&w(!1)},children:s("div",{id:"filtered-status-peek",class:"sheet",children:[s("button",{type:"button",class:"sheet-close",onClick:()=>w(!1),children:s(H,{icon:"x"})}),s("header",{children:[s("b",{class:"status-filtered-badge",children:"Filtered"})," ",y]}),s("main",{tabIndex:"-1",children:s(jt,{ref:M,class:"status-link",to:x,onClick:()=>{w(!1)},"data-read-more":"Read more →",children:s(Ut,{status:e,instance:n,size:"s",readOnly:!0})})})]})})]})}const Ed=it(({id:e,instance:t,level:n=0})=>{if(!e||!t)return;const r=wn(W),o=tt(e,t),i=r.statusQuotes[o],a=i==null?void 0:i.filter((u,c,l)=>l.findIndex(f=>f.url===u.url)===c);if(a!=null&&a.length&&!(n>2))return a.map(u=>s(xs,{id:u.instance+u.id,children:s(jt,{to:`${u.instance?`/${u.instance}`:""}/s/${u.id}`,class:"status-card-link","data-read-more":"Read more →",children:s(Ut,{statusID:u.id,instance:u.instance,size:"s",quoted:n+1,enableCommentHint:!0})},u.instance+u.id)}))}),Hf=it(Ut,(e,t)=>{const{status:n,...r}=e,{status:o,...i}=t;return(n==null?void 0:n.id)===(o==null?void 0:o.id)&&ka(r,i)});var Ii=36,Ws="";for(;Ii--;)Ws+=Ii.toString(36);function Vf(e){for(var t="",n=e||11;n--;)t+=Ws[Math.random()*36|0];return t}function rt(e){return Array.isArray?Array.isArray(e):Ys(e)==="[object Array]"}const xd=1/0;function Md(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-xd?"-0":t}function Sd(e){return e==null?"":Md(e)}function Ge(e){return typeof e=="string"}function Ks(e){return typeof e=="number"}function kd(e){return e===!0||e===!1||Ad(e)&&Ys(e)=="[object Boolean]"}function Zs(e){return typeof e=="object"}function Ad(e){return Zs(e)&&e!==null}function Ue(e){return e!=null}function Wr(e){return!e.trim().length}function Ys(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Id="Incorrect 'index' type",$d=e=>`Invalid value for key ${e}`,Ld=e=>`Pattern length exceeds max of ${e}.`,Cd=e=>`Missing ${e} property in key`,Pd=e=>`Property 'weight' in key '${e}' must be a positive integer`,$i=Object.prototype.hasOwnProperty;class Od{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let o=qs(r);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function qs(e){let t=null,n=null,r=null,o=1,i=null;if(Ge(e)||rt(e))r=e,t=Li(e),n=io(e);else{if(!$i.call(e,"name"))throw new Error(Cd("name"));const a=e.name;if(r=a,$i.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(Pd(a));t=Li(a),n=io(a),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function Li(e){return rt(e)?e:e.split(".")}function io(e){return rt(e)?e.join("."):e}function Dd(e,t){let n=[],r=!1;const o=(i,a,u)=>{if(Ue(i))if(!a[u])n.push(i);else{let c=a[u];const l=i[c];if(!Ue(l))return;if(u===a.length-1&&(Ge(l)||Ks(l)||kd(l)))n.push(Sd(l));else if(rt(l)){r=!0;for(let f=0,d=l.length;f<d;f+=1)o(l[f],a,u+1)}else a.length&&o(l,a,u+1)}};return o(e,Ge(t)?t.split("."):t,0),r?n:n[0]}const Rd={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Nd={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Fd={location:0,threshold:.6,distance:100},zd={useExtendedSearch:!1,getFn:Dd,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var X={...Nd,...Rd,...Fd,...zd};const Hd=/[^ ]+/g;function Vd(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(o){const i=o.match(Hd).length;if(n.has(i))return n.get(i);const a=1/Math.pow(i,.5*e),u=parseFloat(Math.round(a*r)/r);return n.set(i,u),u},clear(){n.clear()}}}class So{constructor({getFn:t=X.getFn,fieldNormWeight:n=X.fieldNormWeight}={}){this.norm=Vd(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ge(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ge(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Ue(t)||Wr(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((o,i)=>{let a=o.getFn?o.getFn(t):this.getFn(t,o.path);if(Ue(a)){if(rt(a)){let u=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:l,value:f}=c.pop();if(Ue(f))if(Ge(f)&&!Wr(f)){let d={v:f,i:l,n:this.norm.get(f)};u.push(d)}else rt(f)&&f.forEach((d,p)=>{c.push({nestedArrIndex:p,value:d})})}r.$[i]=u}else if(Ge(a)&&!Wr(a)){let u={v:a,n:this.norm.get(a)};r.$[i]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Gs(e,t,{getFn:n=X.getFn,fieldNormWeight:r=X.fieldNormWeight}={}){const o=new So({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(qs)),o.setSources(t),o.create(),o}function jd(e,{getFn:t=X.getFn,fieldNormWeight:n=X.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new So({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i}function Wn(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=X.distance,ignoreLocation:i=X.ignoreLocation}={}){const a=t/e.length;if(i)return a;const u=Math.abs(r-n);return o?a+u/o:u?1:a}function Bd(e=[],t=X.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let u=e[i];u&&r===-1?r=i:!u&&r!==-1&&(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const Et=32;function Ud(e,t,n,{location:r=X.location,distance:o=X.distance,threshold:i=X.threshold,findAllMatches:a=X.findAllMatches,minMatchCharLength:u=X.minMatchCharLength,includeMatches:c=X.includeMatches,ignoreLocation:l=X.ignoreLocation}={}){if(t.length>Et)throw new Error(Ld(Et));const f=t.length,d=e.length,p=Math.max(0,Math.min(r,d));let m=i,h=p;const g=u>1||c,y=g?Array(d):[];let T;for(;(T=e.indexOf(t,h))>-1;){let A=Wn(t,{currentLocation:T,expectedLocation:p,distance:o,ignoreLocation:l});if(m=Math.min(A,m),h=T+f,g){let O=0;for(;O<f;)y[T+O]=1,O+=1}}h=-1;let _=[],E=1,w=f+d;const b=1<<f-1;for(let A=0;A<f;A+=1){let O=0,P=w;for(;O<P;)Wn(t,{errors:A,currentLocation:p+P,expectedLocation:p,distance:o,ignoreLocation:l})<=m?O=P:w=P,P=Math.floor((w-O)/2+O);w=P;let x=Math.max(1,p-P+1),S=a?d:Math.min(p+P,d)+f,V=Array(S+2);V[S+1]=(1<<A)-1;for(let D=S;D>=x;D-=1){let $=D-1,k=n[e.charAt($)];if(g&&(y[$]=+!!k),V[D]=(V[D+1]<<1|1)&k,A&&(V[D]|=(_[D+1]|_[D])<<1|1|_[D+1]),V[D]&b&&(E=Wn(t,{errors:A,currentLocation:$,expectedLocation:p,distance:o,ignoreLocation:l}),E<=m)){if(m=E,h=$,h<=p)break;x=Math.max(1,2*p-h)}}if(Wn(t,{errors:A+1,currentLocation:p,expectedLocation:p,distance:o,ignoreLocation:l})>m)break;_=V}const M={isMatch:h>=0,score:Math.max(.001,E)};if(g){const A=Bd(y,u);A.length?c&&(M.indices=A):M.isMatch=!1}return M}function Wd(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class Xs{constructor(t,{location:n=X.location,threshold:r=X.threshold,distance:o=X.distance,includeMatches:i=X.includeMatches,findAllMatches:a=X.findAllMatches,minMatchCharLength:u=X.minMatchCharLength,isCaseSensitive:c=X.isCaseSensitive,ignoreLocation:l=X.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=(p,m)=>{this.chunks.push({pattern:p,alphabet:Wd(p),startIndex:m})},d=this.pattern.length;if(d>Et){let p=0;const m=d%Et,h=d-m;for(;p<h;)f(this.pattern.substr(p,Et),p),p+=Et;if(m){const g=d-Et;f(this.pattern.substr(g),g)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let h={isMatch:!0,score:0};return r&&(h.indices=[[0,t.length-1]]),h}const{location:o,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:l}=this.options;let f=[],d=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:g,startIndex:y})=>{const{isMatch:T,score:_,indices:E}=Ud(t,h,g,{location:o+y,distance:i,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:r,ignoreLocation:l});T&&(p=!0),d+=_,T&&E&&(f=[...f,...E])});let m={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(m.indices=f),m}}class gt{constructor(t){this.pattern=t}static isMultiMatch(t){return Ci(t,this.multiRegex)}static isSingleMatch(t){return Ci(t,this.singleRegex)}search(){}}function Ci(e,t){const n=e.match(t);return n?n[1]:null}class Kd extends gt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Zd extends gt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Yd extends gt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class qd extends gt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Gd extends gt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Xd extends gt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Js extends gt{constructor(t,{location:n=X.location,threshold:r=X.threshold,distance:o=X.distance,includeMatches:i=X.includeMatches,findAllMatches:a=X.findAllMatches,minMatchCharLength:u=X.minMatchCharLength,isCaseSensitive:c=X.isCaseSensitive,ignoreLocation:l=X.ignoreLocation}={}){super(t),this._bitapSearch=new Xs(t,{location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Qs extends gt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const o=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,o.push([r,n-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const so=[Kd,Qs,Yd,qd,Xd,Gd,Zd,Js],Pi=so.length,Jd=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Qd="|";function ef(e,t={}){return e.split(Qd).map(n=>{let r=n.trim().split(Jd).filter(i=>i&&!!i.trim()),o=[];for(let i=0,a=r.length;i<a;i+=1){const u=r[i];let c=!1,l=-1;for(;!c&&++l<Pi;){const f=so[l];let d=f.isMultiMatch(u);d&&(o.push(new f(d,t)),c=!0)}if(!c)for(l=-1;++l<Pi;){const f=so[l];let d=f.isSingleMatch(u);if(d){o.push(new f(d,t));break}}}return o})}const tf=new Set([Js.type,Qs.type]);class nf{constructor(t,{isCaseSensitive:n=X.isCaseSensitive,includeMatches:r=X.includeMatches,minMatchCharLength:o=X.minMatchCharLength,ignoreLocation:i=X.ignoreLocation,findAllMatches:a=X.findAllMatches,location:u=X.location,threshold:c=X.threshold,distance:l=X.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:u,threshold:c,distance:l},this.pattern=n?t:t.toLowerCase(),this.query=ef(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let i=0,a=[],u=0;for(let c=0,l=n.length;c<l;c+=1){const f=n[c];a.length=0,i=0;for(let d=0,p=f.length;d<p;d+=1){const m=f[d],{isMatch:h,indices:g,score:y}=m.search(t);if(h){if(i+=1,u+=y,r){const T=m.constructor.type;tf.has(T)?a=[...a,...g]:a.push(g)}}else{u=0,i=0,a.length=0;break}}if(i){let d={isMatch:!0,score:u/i};return r&&(d.indices=a),d}}return{isMatch:!1,score:1}}}const ao=[];function rf(...e){ao.push(...e)}function co(e,t){for(let n=0,r=ao.length;n<r;n+=1){let o=ao[n];if(o.condition(e,t))return new o(e,t)}return new Xs(e,t)}const lr={AND:"$and",OR:"$or"},lo={PATH:"$path",PATTERN:"$val"},uo=e=>!!(e[lr.AND]||e[lr.OR]),of=e=>!!e[lo.PATH],sf=e=>!rt(e)&&Zs(e)&&!uo(e),Oi=e=>({[lr.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ea(e,t,{auto:n=!0}={}){const r=o=>{let i=Object.keys(o);const a=of(o);if(!a&&i.length>1&&!uo(o))return r(Oi(o));if(sf(o)){const c=a?o[lo.PATH]:i[0],l=a?o[lo.PATTERN]:o[c];if(!Ge(l))throw new Error($d(c));const f={keyId:io(c),pattern:l};return n&&(f.searcher=co(l,t)),f}let u={children:[],operator:i[0]};return i.forEach(c=>{const l=o[c];rt(l)&&l.forEach(f=>{u.children.push(r(f))})}),u};return uo(e)||(e=Oi(e)),r(e)}function af(e,{ignoreFieldNorm:t=X.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:i,score:a})=>{const u=o?o.weight:null;r*=Math.pow(a===0&&u?Number.EPSILON:a,(u||1)*(t?1:i))}),n.score=r})}function cf(e,t){const n=e.matches;t.matches=[],Ue(n)&&n.forEach(r=>{if(!Ue(r.indices)||!r.indices.length)return;const{indices:o,value:i}=r;let a={indices:o,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),t.matches.push(a)})}function lf(e,t){t.score=e.score}function uf(e,t,{includeMatches:n=X.includeMatches,includeScore:r=X.includeScore}={}){const o=[];return n&&o.push(cf),r&&o.push(lf),e.map(i=>{const{idx:a}=i,u={item:t[a],refIndex:a};return o.length&&o.forEach(c=>{c(i,u)}),u})}class Tn{constructor(t,n={},r){this.options={...X,...n},this.options.useExtendedSearch,this._keyStore=new Od(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof So))throw new Error(Id);this._myIndex=n||Gs(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ue(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,o-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:i,sortFn:a,ignoreFieldNorm:u}=this.options;let c=Ge(t)?Ge(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return af(c,{ignoreFieldNorm:u}),i&&c.sort(a),Ks(n)&&n>-1&&(c=c.slice(0,n)),uf(c,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(t){const n=co(t,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:i,i:a,n:u})=>{if(!Ue(i))return;const{isMatch:c,score:l,indices:f}=n.searchIn(i);c&&o.push({item:i,idx:a,matches:[{score:l,value:i,norm:u,indices:f}]})}),o}_searchLogical(t){const n=ea(t,this.options),r=(u,c,l)=>{if(!u.children){const{keyId:d,searcher:p}=u,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:p});return m&&m.length?[{idx:l,item:c,matches:m}]:[]}const f=[];for(let d=0,p=u.children.length;d<p;d+=1){const m=u.children[d],h=r(m,c,l);if(h.length)f.push(...h);else if(u.operator===lr.AND)return[]}return f},o=this._myIndex.records,i={},a=[];return o.forEach(({$:u,i:c})=>{if(Ue(u)){let l=r(n,u,c);l.length&&(i[c]||(i[c]={idx:c,item:u,matches:[]},a.push(i[c])),l.forEach(({matches:f})=>{i[c].matches.push(...f)}))}}),a}_searchObjectList(t){const n=co(t,this.options),{keys:r,records:o}=this._myIndex,i=[];return o.forEach(({$:a,i:u})=>{if(!Ue(a))return;let c=[];r.forEach((l,f)=>{c.push(...this._findMatches({key:l,value:a[f],searcher:n}))}),c.length&&i.push({idx:u,item:a,matches:c})}),i}_findMatches({key:t,value:n,searcher:r}){if(!Ue(n))return[];let o=[];if(rt(n))n.forEach(({v:i,i:a,n:u})=>{if(!Ue(i))return;const{isMatch:c,score:l,indices:f}=r.searchIn(i);c&&o.push({score:l,key:t,value:i,idx:a,norm:u,indices:f})});else{const{v:i,n:a}=n,{isMatch:u,score:c,indices:l}=r.searchIn(i);u&&o.push({score:c,key:t,value:i,norm:a,indices:l})}return o}}Tn.version="7.0.0";Tn.createIndex=Gs;Tn.parseIndex=jd;Tn.config=X;Tn.parseQuery=ea;rf(nf);export{Hr as $,nt as A,to as B,un as C,yi as D,Bt as E,Qr as F,xo as G,oo as H,H as I,eo as J,qn as K,jt as L,Zr as M,an as N,Lu as O,Fs as P,Mo as Q,Mt as R,Vc as S,ou as T,Ns as U,cs as V,Qi as W,$u as X,Cf as Y,zs as Z,Vf as _,Nt as a,ar as a0,Tf as a1,Dc as a2,Ef as a3,Tn as a4,Bl as a5,Wa as a6,Zi as a7,Ja as a8,ro as a9,Ka as b,ls as c,ke as d,tn as e,Ar as f,us as g,Fn as h,Af as i,li as j,$l as k,Ir as l,ws as m,mt as n,Ya as o,bs as p,yn as q,zn as r,$e as s,Qc as t,gf as u,cr as v,$f as w,Lf as x,Hf as y,If as z};
//# sourceMappingURL=fuse-Cy8XlkuJ.js.map
